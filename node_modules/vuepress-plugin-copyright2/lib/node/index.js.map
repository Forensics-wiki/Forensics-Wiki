{"version":3,"file":"index.js","sources":["../../src/node/locales.ts","../../src/node/utils.ts","../../src/node/plugins.ts"],"sourcesContent":["import type { CopyrightLocaleConfig } from \"../shared/index.js\";\n\n/** Multi language config for copyright */\nexport const copyrightLocales: CopyrightLocaleConfig = {\n  \"/en/\": {\n    author: \"Copyright by :author\",\n    license: \"License under :license\",\n    link: \":link\",\n  },\n\n  \"/zh/\": {\n    author: \"著作权归:author所有\",\n    license: \"基于:license协议\",\n    link: \"原文链接：:link\",\n  },\n\n  \"/zh-tw/\": {\n    author: \"著作權歸:author所有\",\n    license: \"基於:license協議\",\n    link: \"原文鏈接：:link\",\n  },\n\n  \"/ru/\": {\n    author: \"Авторские права :author\",\n    license: \"Лицензия :license\",\n    link: \":link\",\n  },\n\n  \"/pl/\": {\n    author: \"Prawa autorskie :author\",\n    license: \"Licencja :license\",\n    link: \":link\",\n  },\n\n  \"/sk/\": {\n    author: \"Autorské práva :author\",\n    license: \"Licencia :license\",\n    link: \":link\",\n  },\n\n  \"/fr/\": {\n    author: \"Copyright par :author\",\n    license: \"Sous licence :license\",\n    link: \":link\",\n  },\n\n  \"/es/\": {\n    author: \"Derechos de autor :author\",\n    license: \"Licencia :license\",\n    link: \":link\",\n  },\n\n  \"/ja/\": {\n    author: \"著作権者 :author\",\n    license: \":licenseプロトコルに基づく\",\n    link: \":link\",\n  },\n\n  \"/tr/\": {\n    author: \"Telif hakkı sahibi :author\",\n    license: \"Lisans :license\",\n    link: \":link\",\n  },\n\n  \"/ko/\": {\n    author: \"저작권자 :author\",\n    license: \":license 프로토콜에 따라\",\n    link: \":link\",\n  },\n\n  \"/fi/\": {\n    author: \"Tekijänoikeus :author\",\n    license: \"Lisenssi :license\",\n    link: \":link\",\n  },\n\n  \"/de/\": {\n    author: \"Copyright by :author\",\n    license: \"Lizenziert unter :license\",\n    link: \":link\",\n  },\n\n  \"/de-AT/\": {\n    author: \"Copyright by :author\",\n    license: \"Lizenziert unter :license\",\n    link: \":link\",\n  },\n\n  \"/hu/\": {\n    author: \"Szerzői jog :author\",\n    license: \"Licensz: :license\",\n    link: \":link\",\n  },\n\n  \"/id/\": {\n    author: \"Hak cipta oleh :author\",\n    license: \"Dibawah Lisensi :license\",\n    link: \":link\",\n  },\n\n  \"/nl/\": {\n    author: \"Auteursrecht van :author\",\n    license: \"Licentie onder :license\",\n    link: \":link\",\n  },\n};\n","import { Logger } from \"vuepress-shared/node\";\n\nexport const PLUGIN_NAME = \"vuepress-plugin-copyright2\";\n\nexport const logger = new Logger(PLUGIN_NAME);\n","import type { Page, PluginFunction } from \"@vuepress/core\";\nimport { getDirname, path } from \"@vuepress/utils\";\nimport { checkVersion, getLocales, isFunction } from \"vuepress-shared/node\";\n\nimport { copyrightLocales } from \"./locales.js\";\nimport type { CopyrightOptions } from \"./options.js\";\nimport { PLUGIN_NAME, logger } from \"./utils.js\";\nimport type { CopyrightPluginPageData } from \"../shared/index.js\";\n\nconst __dirname = getDirname(import.meta.url);\n\nexport const copyrightPlugin =\n  (options: CopyrightOptions): PluginFunction =>\n  (app) => {\n    checkVersion(app, PLUGIN_NAME, \"2.0.0-beta.66\");\n\n    if (app.env.isDebug) logger.info(\"Options:\", options);\n\n    const {\n      canonical,\n      author = \"\",\n      license = \"\",\n      disableCopy = false,\n      disableSelection = false,\n      global = false,\n      triggerWords = 100,\n    } = options;\n\n    const locales = getLocales({\n      app,\n      name: PLUGIN_NAME,\n      default: copyrightLocales,\n      config: options.locales,\n    });\n\n    return {\n      name: PLUGIN_NAME,\n\n      define: (): Record<string, unknown> => ({\n        COPYRIGHT_CANONICAL: canonical || \"\",\n        COPYRIGHT_GLOBAL: global,\n        COPYRIGHT_DISABLE_COPY: disableCopy,\n        COPYRIGHT_DISABLE_SELECTION: disableSelection,\n        COPYRIGHT_LOCALES: locales,\n        COPYRIGHT_TRIGGER_WORDS: triggerWords,\n      }),\n\n      extendsPage: (page: Page<Partial<CopyrightPluginPageData>>): void => {\n        const authorText = isFunction(author) ? author(page) : author;\n\n        const licenseText = isFunction(license) ? license(page) : license;\n\n        page.data.copyright = {\n          ...(authorText ? { author: authorText } : {}),\n          ...(licenseText ? { license: licenseText } : {}),\n        };\n      },\n\n      clientConfigFile: path.resolve(__dirname, \"../client/config.js\"),\n    };\n  };\n"],"names":["copyrightLocales","PLUGIN_NAME","logger","Logger","__dirname","getDirname","copyrightPlugin","options","app","checkVersion","canonical","author","license","disableCopy","disableSelection","global","triggerWords","locales","getLocales","page","authorText","isFunction","licenseText","path"],"mappings":"uJAGO,MAAMA,EAA0C,CACrD,OAAQ,CACN,OAAQ,uBACR,QAAS,yBACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,gBACR,QAAS,eACT,KAAM,YACR,EAEA,UAAW,CACT,OAAQ,gBACR,QAAS,eACT,KAAM,YACR,EAEA,OAAQ,CACN,OAAQ,0BACR,QAAS,oBACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,0BACR,QAAS,oBACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,yBACR,QAAS,oBACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,wBACR,QAAS,wBACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,4BACR,QAAS,oBACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,eACR,QAAS,oBACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,6BACR,QAAS,kBACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,eACR,QAAS,oBACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,wBACR,QAAS,oBACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,uBACR,QAAS,4BACT,KAAM,OACR,EAEA,UAAW,CACT,OAAQ,uBACR,QAAS,4BACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,sBACR,QAAS,oBACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,yBACR,QAAS,2BACT,KAAM,OACR,EAEA,OAAQ,CACN,OAAQ,2BACR,QAAS,0BACT,KAAM,OACR,CACF,ECvGaC,EAAc,6BAEdC,EAAS,IAAIC,EAAOF,CAAW,ECKtCG,EAAYC,EAAW,YAAY,GAAG,EAE/BC,EACVC,GACAC,GAAQ,CACPC,EAAaD,EAAKP,EAAa,eAAe,EAE1CO,EAAI,IAAI,SAASN,EAAO,KAAK,WAAYK,CAAO,EAEpD,KAAM,CACJ,UAAAG,EACA,OAAAC,EAAS,GACT,QAAAC,EAAU,GACV,YAAAC,EAAc,GACd,iBAAAC,EAAmB,GACnB,OAAAC,EAAS,GACT,aAAAC,EAAe,GACjB,EAAIT,EAEEU,EAAUC,EAAW,CACzB,IAAAV,EACA,KAAMP,EACN,QAASD,EACT,OAAQO,EAAQ,OAClB,CAAC,EAED,MAAO,CACL,KAAMN,EAEN,OAAQ,KAAgC,CACtC,oBAAqBS,GAAa,GAClC,iBAAkBK,EAClB,uBAAwBF,EACxB,4BAA6BC,EAC7B,kBAAmBG,EACnB,wBAAyBD,CAC3B,GAEA,YAAcG,GAAuD,CACnE,MAAMC,EAAaC,EAAWV,CAAM,EAAIA,EAAOQ,CAAI,EAAIR,EAEjDW,EAAcD,EAAWT,CAAO,EAAIA,EAAQO,CAAI,EAAIP,EAE1DO,EAAK,KAAK,UAAY,CACpB,GAAIC,EAAa,CAAE,OAAQA,CAAW,EAAI,CAAC,EAC3C,GAAIE,EAAc,CAAE,QAASA,CAAY,EAAI,CAAA,CAC/C,CACF,EAEA,iBAAkBC,EAAK,QAAQnB,EAAW,qBAAqB,CACjE,CACF"}