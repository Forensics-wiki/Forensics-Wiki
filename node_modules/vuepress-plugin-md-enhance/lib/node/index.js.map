{"version":3,"file":"index.js","sources":["../../src/node/markdown-it/utils.ts","../../src/node/utils.ts","../../src/node/markdown-it/card.ts","../../src/node/markdown-it/chart.ts","../../src/node/markdown-it/codeDemo.ts","../../src/node/markdown-it/codeTabs.ts","../../src/node/markdown-it/echarts.ts","../../src/node/markdown-it/flowchart.ts","../../src/node/markdown-it/hint.ts","../../src/node/markdown-it/mermaid.ts","../../src/node/markdown-it/playground/plugin.ts","../../src/node/markdown-it/playground/ventors/lzstring.ts","../../src/node/markdown-it/playground/ventors/optionDeclarations.ts","../../src/node/markdown-it/playground/ts.ts","../../src/node/markdown-it/playground/vue.ts","../../src/node/markdown-it/presentation.ts","../../src/node/markdown-it/tabs.ts","../../src/node/markdown-it/vPre.ts","../../src/node/markdown-it/vuePlayground.ts","../../src/node/locales.ts","../../src/node/compact/utils.ts","../../src/node/compact/convert.ts","../../src/node/compact/codeDemo.ts","../../src/node/compact/codeGroup.ts","../../src/node/compact/include.ts","../../src/node/compact/flowchart.ts","../../src/node/linksCheck.ts","../../src/node/prepare/config.ts","../../src/node/prepare/mathjax.ts","../../src/node/prepare/reveal.ts","../../src/node/plugin.ts"],"sourcesContent":["/**\n * @see https://spec.commonmark.org/0.29/#line-ending\n */\nexport const NEWLINES_RE = /\\r\\n?|\\n/g;\n\n// single quote will break @vue/compiler-sfc\nexport const stringifyProp = (data: unknown): string =>\n  JSON.stringify(data).replace(/'/g, \"&#39\");\n\nexport const escapeHtml = (unsafeHTML: string): string =>\n  unsafeHTML\n    .replace(/&/gu, \"&amp;\")\n    .replace(/</gu, \"&lt;\")\n    .replace(/>/gu, \"&gt;\")\n    .replace(/\"/gu, \"&quot;\")\n    .replace(/'/gu, \"&#039;\");\n","import { getDirname, path } from \"@vuepress/utils\";\nimport { Logger, ensureEndingSlash } from \"vuepress-shared/node\";\n\nconst __dirname = getDirname(import.meta.url);\n\nexport const PLUGIN_NAME = \"vuepress-plugin-md-enhance\";\n\nexport const logger = new Logger(PLUGIN_NAME);\n\nexport const CLIENT_FOLDER = ensureEndingSlash(\n  path.resolve(__dirname, \"../client\"),\n);\n","import { container } from \"@mdit/plugin-container\";\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport { load } from \"js-yaml\";\nimport type { Options, PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.js\";\nimport {\n  entries,\n  fromEntries,\n  isPlainObject,\n  isString,\n} from \"vuepress-shared/node\";\n\nimport { stringifyProp } from \"./utils.js\";\nimport { logger } from \"../utils.js\";\n\nexport interface CardOptions {\n  title: string;\n  desc?: string;\n  logo?: string;\n  link?: string;\n  color?: string;\n}\n\nconst CARD_PROPS = [\"title\", \"desc\", \"logo\", \"link\", \"color\"];\n\nconst checkCardProps = (config: unknown): CardOptions | null => {\n  if (isPlainObject(config) && isString(config[\"title\"]))\n    return fromEntries(\n      entries(config).filter(\n        (item): item is [string, string] =>\n          CARD_PROPS.includes(item[0]) && isString(item[1]),\n      ),\n    ) as unknown as CardOptions;\n\n  return null;\n};\n\nconst cardRender = (\n  tokens: Token[],\n  index: number,\n  _options: Options,\n  { filePathRelative }: MarkdownEnv,\n): string => {\n  const token = tokens[index];\n  const { content, info } = token;\n\n  const language = info.trim().split(\":\", 2)[1] || \"yml\";\n  let config: unknown = null;\n\n  if (language === \"yaml\" || language === \"yml\")\n    try {\n      config = load(content);\n    } catch (err) {\n      logger.error(`Parsing card YAML config failed:`, err);\n    }\n  else if (language === \"json\")\n    try {\n      config = <unknown>JSON.parse(content);\n    } catch (err) {\n      // do nothing\n      logger.error(`Parsing card JSON config failed:`, err);\n    }\n  else\n    logger.error(\n      `Can not parse card config ${language}${\n        filePathRelative ? `, found in ${filePathRelative}` : \"\"\n      }.`,\n    );\n\n  const cardData = checkCardProps(config);\n\n  if (cardData) return `<VPCard v-bind='${stringifyProp(cardData)}' />`;\n\n  logger.error(\n    `Invalid card config${\n      filePathRelative ? ` found in ${filePathRelative}` : \"\"\n    }:\n${content}\n`,\n  );\n\n  return \"\";\n};\n\nexport const card: PluginSimple = (md) => {\n  // add card container\n  md.use(container, {\n    name: \"card\",\n    openRender: () =>\n      `\\\n<div class=\"vp-card-container\">\n`,\n  });\n\n  // Handle ```card  blocks\n  const fence = md.renderer.rules.fence;\n\n  md.renderer.rules.fence = (...args): string => {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const [tokens, index, options, env] = args;\n    const { info } = tokens[index];\n    const realInfo = info.split(\":\", 2)[0];\n\n    if (realInfo === \"card\")\n      return cardRender(tokens, index, options, <MarkdownEnv>env);\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"card\"] = cardRender;\n};\n","import { container } from \"@mdit/plugin-container\";\nimport type { PluginSimple } from \"markdown-it\";\nimport { utoa } from \"vuepress-shared/node\";\n\nexport const chart: PluginSimple = (md) => {\n  container(md, {\n    name: \"chart\",\n    openRender: (tokens, index) => {\n      const title = tokens[index].info\n        .trimStart()\n        // \"chart\" length\n        .slice(5)\n        .trim();\n\n      const key = `chart-${index}`;\n\n      let config = \"{}\";\n      let configType = \"\";\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === \"container_chart_close\") break;\n\n        if (!content) continue;\n        if (type === \"fence\")\n          if (info === \"json\") {\n            config = utoa(content);\n            configType = \"json\";\n          } else if (info === \"js\" || info === \"javascript\") {\n            config = utoa(content);\n            configType = \"js\";\n          }\n\n        // set to an unexist token type\n        tokens[i].type = \"chart_empty\";\n        // hide token\n        tokens[i].hidden = true;\n      }\n\n      return `<ChartJS id=\"${key}\" config=\"${config}\" ${\n        title ? `title=\"${encodeURIComponent(title)}\" ` : \"\"\n      }type=\"${configType}\">`;\n    },\n    closeRender: () => `</ChartJS>`,\n  });\n};\n","import { container } from \"@mdit/plugin-container\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.js\";\nimport { utoa } from \"vuepress-shared/node\";\n\nimport type { CodeDemoOptions } from \"../../shared/index.js\";\n\nexport const CODE_DEMO_DEFAULT_SETTING: CodeDemoOptions = {\n  useBabel: false,\n  jsLib: [],\n  cssLib: [],\n  codepenLayout: \"left\",\n  codepenEditors: \"101\",\n  babel: \"https://unpkg.com/@babel/standalone/babel.min.js\",\n  vue: \"https://unpkg.com/vue/dist/vue.global.prod.js\",\n  react: \"https://unpkg.com/react/umd/react.production.min.js\",\n  reactDOM: \"https://unpkg.com/react-dom/umd/react-dom.production.min.js\",\n};\n\nconst getPlugin =\n  (name: string): PluginSimple =>\n  (md) =>\n    container(md, {\n      name,\n      openRender: (tokens: Token[], index: number): string => {\n        const title = tokens[index].info.trimStart().slice(name.length).trim();\n\n        let config = \"\";\n        const code: Record<string, string> = {};\n\n        for (let i = index; i < tokens.length; i++) {\n          const { type, content, info } = tokens[i];\n          const language = info\n            ? md.utils\n                .unescapeAll(info)\n                .trim()\n                .match(/^([^ :[{]+)/)?.[1] || \"text\"\n            : \"\";\n\n          if (type === `container_${name}_close`) break;\n          if (!content) continue;\n          if (type === \"fence\")\n            if (language === \"json\") config = utoa(content);\n            else code[language] = content;\n        }\n\n        return `\n<CodeDemo id=\"code-demo-${index}\" type=\"${name.split(\"-\")[0]}\"${\n          title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n        }${config ? ` config=\"${config}\"` : \"\"} code=\"${utoa(\n          JSON.stringify(code),\n        )}\">\n`;\n      },\n      closeRender: () => `</CodeDemo>`,\n    });\n\nexport const normalDemo: PluginSimple = getPlugin(\"normal-demo\");\n\nexport const vueDemo: PluginSimple = getPlugin(\"vue-demo\");\n\nexport const reactDemo: PluginSimple = getPlugin(\"react-demo\");\n","import { tab } from \"@mdit/plugin-tab\";\nimport type { PluginSimple } from \"markdown-it\";\n\nimport { stringifyProp } from \"./utils.js\";\n\nexport const codeTabs: PluginSimple = (md) => {\n  tab(md, {\n    name: \"code-tabs\",\n\n    tabsOpenRenderer: ({ active, data }, tokens, index) => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const { meta } = tokens[index];\n      const titles = data.map(({ title }) => md.renderInline(title));\n      const tabsData = data.map((item, index) => {\n        const { id = titles[index] } = item;\n\n        return { id };\n      });\n\n      return `<CodeTabs id=\"${index}\" :data='${stringifyProp(tabsData)}'${\n        active !== -1 ? ` :active=\"${active}\"` : \"\"\n      }${\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        meta.id ? ` tab-id=\"${meta.id as string}\"` : \"\"\n      }>\n${titles\n  .map(\n    (title, index) => `\\\n<template #title${index}=\"{ value, isActive }\">${title}</template>\n`,\n  )\n  .join(\"\")}\\\n`;\n    },\n\n    tabsCloseRenderer: () => `\\\n</CodeTabs>\n`,\n\n    tabOpenRenderer: ({ index }, tokens, tokenIndex) => {\n      let foundFence = false;\n\n      // hide all elements excerpt the first fence\n      for (let i = tokenIndex; i < tokens.length; i++) {\n        const { block, type } = tokens[i];\n\n        if (block) {\n          if (type === \"code-tabs_tab_close\") break;\n\n          if ((type === \"fence\" || type === \"import_code\") && !foundFence) {\n            foundFence = true;\n            continue;\n          }\n\n          tokens[i].type = \"code_tab_empty\";\n          tokens[i].hidden = true;\n        }\n      }\n\n      return `\\\n<template #tab${index}=\"{ value, isActive }\">\n`;\n    },\n\n    tabCloseRenderer: () => `\\\n</template>\n`,\n  });\n};\n","import { container } from \"@mdit/plugin-container\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.js\";\nimport { utoa } from \"vuepress-shared/node\";\n\nconst echartsRender = (tokens: Token[], index: number): string => {\n  const token = tokens[index];\n  const key = `echarts-${index}`;\n  const { content, info } = token;\n  const title = info.trim().split(\":\", 2)[1];\n\n  return `<ECharts id=\"${key}\" config=\"${utoa(content)}\"${\n    title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n  }></ECharts>`;\n};\n\nexport const echarts: PluginSimple = (md) => {\n  // Handle ```echarts blocks\n  const fence = md.renderer.rules.fence;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n    const realInfo = info.split(\":\", 2)[0];\n\n    if (realInfo === \"echarts\") return echartsRender(tokens, index);\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"echarts\"] = echartsRender;\n\n  container(md, {\n    name: \"echarts\",\n\n    openRender: (tokens, index) => {\n      const title = tokens[index].info\n        .trimStart()\n        // 'echarts' length\n        .slice(7)\n        .trim();\n\n      const key = `echarts-${index}`;\n\n      let config = \"{}\";\n      let isJavaScript = false;\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === \"container_echarts_close\") break;\n\n        if (!content) continue;\n        if (type === \"fence\")\n          if (info === \"json\") {\n            config = content;\n          } else if (info === \"js\" || info === \"javascript\") {\n            config = content;\n            isJavaScript = true;\n          }\n\n        // set to an unexist token type\n        tokens[i].type = \"echarts_empty\";\n        // hide token\n        tokens[i].hidden = true;\n      }\n\n      return `<ECharts id=\"${key}\" config=\"${utoa(config)}\"${\n        title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n      }${isJavaScript ? ' type=\"js\"' : \"\"}>`;\n    },\n    closeRender: () => `</ECharts>`,\n  });\n};\n","import type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.js\";\nimport { utoa } from \"vuepress-shared/node\";\n\nconst flowchartRender = (tokens: Token[], index: number): string => {\n  const token = tokens[index];\n  const key = `flowchart-${index}`;\n  const { content, info } = token;\n\n  return `<FlowChart id=\"${key}\" code=\"${utoa(content)}\" preset=\"${\n    info.trim().split(\":\", 2)[1] || \"vue\"\n  }\"></FlowChart>`;\n};\n\nexport const flowchart: PluginSimple = (md) => {\n  // Handle ```flow and ```flowchart blocks\n  const fence = md.renderer.rules.fence;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n    const realInfo = info.split(\":\", 2)[0];\n\n    if (realInfo === \"flow\" || realInfo === \"flowchart\")\n      return flowchartRender(tokens, index);\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"flowchart\"] = flowchartRender;\n};\n","import { container } from \"@mdit/plugin-container\";\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport { resolveLocalePath } from \"@vuepress/shared\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { RequiredLocaleConfig } from \"vuepress-shared/node\";\nimport { ensureLeadingSlash } from \"vuepress-shared/node\";\n\nimport type { MarkdownHintLocaleData } from \"../typings/index.js\";\n\nexport type MarkdownItHintOptions =\n  RequiredLocaleConfig<MarkdownHintLocaleData>;\n\nexport type MarkdownHintBoxName = keyof MarkdownHintLocaleData;\n\nexport const hint: PluginWithOptions<MarkdownItHintOptions> = (\n  md,\n  options = {},\n) => {\n  const containers: MarkdownHintBoxName[] = [\n    \"info\",\n    \"note\",\n    \"tip\",\n    \"warning\",\n    \"danger\",\n  ];\n\n  containers.forEach((name) => {\n    md.use(container, {\n      name,\n      openRender: (tokens, index, _options, env: MarkdownEnv): string => {\n        const token = tokens[index];\n\n        // resolve info (title)\n        let info = token.info.trim().slice(name.length).trim();\n\n        // get locale\n        if (!info) {\n          const { filePathRelative } = env;\n          const relativePath = ensureLeadingSlash(filePathRelative ?? \"\");\n          const localePath = resolveLocalePath(options, relativePath);\n\n          info = options[localePath]?.[name];\n        }\n\n        return `<div class=\"hint-container ${name}\">\\n<p class=\"hint-container-title\">${\n          info || name\n        }</p>\\n`;\n      },\n      closeRender: () => \"</div>\\n\",\n    });\n  });\n\n  md.use((md) =>\n    container(md, {\n      name: \"details\",\n      openRender: (tokens, index, _options, env: MarkdownEnv): string => {\n        const token = tokens[index];\n\n        // resolve info (title)\n        let info = token.info\n          .trim()\n          .slice(\n            // length of \"details\"\n            7,\n          )\n          .trim();\n\n        // get locale\n        if (!info) {\n          const { filePathRelative } = env;\n          const relativePath = ensureLeadingSlash(filePathRelative ?? \"\");\n          const localePath = resolveLocalePath(options, relativePath);\n\n          info = options[localePath]?.details;\n        }\n\n        return `<details class=\"hint-container details\"><summary>${\n          info || \"Details\"\n        }</summary>\\n`;\n      },\n      closeRender: () => \"</details>\\n\",\n    }),\n  );\n};\n","import type { PluginSimple } from \"markdown-it\";\nimport type Renderer from \"markdown-it/lib/renderer.js\";\nimport { utoa } from \"vuepress-shared/node\";\n\nconst mermaidRenderer: Renderer.RenderRule = (tokens, index) =>\n  `<Mermaid id=\"mermaid-${index}\" code=\"${utoa(\n    tokens[index].content,\n  )}\"></Mermaid>`;\n\ninterface MermaidOptions {\n  content: string;\n  diagram?: string;\n  title?: string;\n}\n\nexport const getMermaidContent = ({\n  diagram = \"mermaid\",\n  content,\n  title = \"\",\n}: MermaidOptions): string => `\\\n${\n  title\n    ? `\\\n---\ntitle: ${title}\n---\n\n`\n    : \"\"\n}\\\n${\n  diagram === \"mermaid\"\n    ? \"\"\n    : `\\\n${diagram}\n`\n}\\\n${\n  diagram === \"mermaid\"\n    ? content\n    : content\n        .split(\"\\n\")\n        .map((line) => (line ? `  ${line}` : \"\"))\n        .join(\"\\n\")\n}\\\n`;\n\nconst getMermaid = (options: MermaidOptions, index: number): string =>\n  `<Mermaid id=\"mermaid-${index}\" code=\"${utoa(\n    getMermaidContent(options),\n  )}\"></Mermaid>`;\n\nconst DIAGRAM_MAP: Record<string, string> = {\n  class: \"classDiagram\",\n  c4c: \"C4Context\",\n  er: \"erDiagram\",\n  gantt: \"gantt\",\n  \"git-graph\": \"gitGraph\",\n  journey: \"journey\",\n  mindmap: \"mindmap\",\n  pie: \"pie\",\n  sequence: \"sequenceDiagram\",\n  state: \"stateDiagram-v2\",\n  timeline: \"timeline\",\n};\n\nexport const mermaid: PluginSimple = (md) => {\n  // Handle ```mermaid blocks\n  const fence = md.renderer.rules.fence;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { content, info } = tokens[index];\n\n    const fenceInfo = info.trim();\n\n    if (fenceInfo === \"mermaid\") return getMermaid({ content }, index);\n\n    const [name, ...rest] = fenceInfo.split(\" \");\n\n    if (DIAGRAM_MAP[name])\n      return getMermaid(\n        { diagram: DIAGRAM_MAP[name], title: rest.join(\" \"), content },\n        index,\n      );\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"mermaid\"] = mermaidRenderer;\n};\n","import { hash } from \"@vuepress/utils\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\nimport { entries } from \"vuepress-shared/node\";\n\nimport type { PlaygroundData, PlaygroundOptions } from \"../../typings/index.js\";\nimport { escapeHtml } from \"../utils.js\";\n\nconst AT_MARKER = `@`;\nconst VALID_MARKERS = [\"file\", \"import\", \"setting\"] as const;\n\nconst getPlaygroundRule =\n  (name: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    // Check out the first character quickly,\n    // this should filter out most of non-containers\n    if (state.src[start] !== \":\") return false;\n\n    let pos = start + 1;\n\n    // Check out the rest of the marker string\n    while (pos <= max) {\n      if (state.src[pos] !== \":\") break;\n      pos += 1;\n    }\n\n    const markerCount = pos - start;\n\n    if (markerCount < 3) return false;\n\n    const markup = state.src.slice(start, pos);\n    const params = state.src.slice(pos, max);\n\n    const containerName = params.trimStart().split(\" \", 2)[0];\n\n    const title = params.trimStart().slice(name.length).trim();\n\n    if (containerName.trim() !== name) return false;\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    // Search for the end of the block\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      // unclosed block should be auto closed by end of document.\n      // also block seems to be auto closed by end of parent\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n\n      if (\n        // match start\n\n        state.src[start] === \":\" &&\n        // closing fence should be indented less than 4 spaces\n        state.sCount[nextLine] - state.blkIndent < 4\n      ) {\n        // check rest of marker\n        for (pos = start + 1; pos <= max; pos++)\n          if (state.src[pos] !== \":\") break;\n\n        // closing code fence must be at least as long as the opening one\n        if (pos - start >= markerCount) {\n          // make sure tail has spaces only\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            // found!\n            autoClosed = true;\n            break;\n          }\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error\n    state.parentType = `${name}`;\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine - (autoClosed ? 1 : 0);\n\n    const openToken = state.push(`${name}_open`, \"template\", 1);\n\n    openToken.markup = markup;\n    openToken.block = true;\n    openToken.info = title;\n    openToken.map = [startLine, nextLine - (autoClosed ? 1 : 0)];\n\n    state.md.block.tokenize(\n      state,\n      startLine + 1,\n      nextLine - (autoClosed ? 1 : 0),\n    );\n\n    const closeToken = state.push(`${name}_close`, \"template\", -1);\n\n    closeToken.markup = state.src.slice(start, pos);\n    closeToken.block = true;\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nconst atMarkerRule =\n  (markerName: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    const atMarker = `${AT_MARKER}${markerName}`;\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-uml blocks\n     */\n    if (state.src.charAt(start) !== \"@\") return false;\n\n    let index;\n\n    // Check out the rest of the marker string\n    for (index = 0; index < atMarker.length; index++)\n      if (atMarker[index] !== state.src[start + index]) return false;\n\n    const markup = state.src.slice(start, start + index);\n    const info = state.src.slice(start + index, max);\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      // unclosed block should be auto closed by end of document.\n      // also block seems to be auto closed by end of parent\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n\n      if (\n        // match start\n        state.src[start] === AT_MARKER &&\n        // marker should not be indented with respect of opening fence\n        state.sCount[nextLine] <= state.sCount[startLine]\n      ) {\n        let openMakerMatched = true;\n\n        for (index = 0; index < atMarker.length; index++)\n          if (atMarker[index] !== state.src[start + index]) {\n            openMakerMatched = false;\n            break;\n          }\n\n        if (openMakerMatched) {\n          // found!\n          autoClosed = true;\n          nextLine -= 1;\n          break;\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error\n    state.parentType = `${markerName}`;\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    const openToken = state.push(`${markerName}_open`, \"template\", 1);\n\n    openToken.block = true;\n    openToken.markup = markup;\n    openToken.info = info.trim();\n\n    openToken.map = [startLine, nextLine];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    const closeToken = state.push(`${markerName}_close`, \"template\", -1);\n\n    closeToken.block = true;\n    closeToken.markup = \"\";\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nconst defaultPropsGetter = (\n  playgroundData: PlaygroundData,\n): Record<string, string> => ({\n  key: playgroundData.key,\n  title: playgroundData.title || \"\",\n  files: encodeURIComponent(JSON.stringify(playgroundData.files)),\n  settings: encodeURIComponent(JSON.stringify(playgroundData.settings || {})),\n});\n\nexport const playground: PluginWithOptions<PlaygroundOptions> = (\n  md,\n  {\n    name = \"playground\",\n    component = \"Playground\",\n    propsGetter = defaultPropsGetter,\n  } = {\n    name: \"playground\",\n    component: \"Playground\",\n    propsGetter: defaultPropsGetter,\n  },\n) => {\n  md.block.ruler.before(\"fence\", `${name}`, getPlaygroundRule(name), {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  VALID_MARKERS.forEach((marker) => {\n    // WARNING:  Here we use an internal variable to make sure tab rule is not registered\n\n    // @ts-ignore\n    // eslint-disable-next-line\n    if (!md.block.ruler.__rules__.find(({ name }) => name === \"marker\"))\n      md.block.ruler.before(\"fence\", \"tab\", atMarkerRule(marker), {\n        alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n      });\n  });\n\n  md.renderer.rules[`${name}_open`] = (tokens, index): string => {\n    const { info } = tokens[index];\n\n    const playgroundData: PlaygroundData = {\n      key: hash(`playground${index}-${info}`),\n      title: encodeURIComponent(info),\n      settings: {},\n      files: {},\n    };\n\n    let currentKey: string | null = null;\n    let foundSettings = false;\n\n    for (let i = index; i < tokens.length; i++) {\n      const { block, type, info, content } = tokens[i];\n\n      if (block) {\n        if (type === `${name}_close`) break;\n        if (type === `${name}_open`) continue;\n\n        if (type === \"file_open\") {\n          // File rule must contain a valid file name\n          if (!info) continue;\n          currentKey = info;\n        } else if (type === \"import_open\") {\n          playgroundData.importMap = currentKey = info || \"import-map.json\";\n        }\n\n        if (type === \"setting_open\") foundSettings = true;\n        if (type === \"setting_close\") foundSettings = false;\n\n        if (\n          type === \"file_close\" ||\n          type === \"import_close\" ||\n          type === \"setting_close\" ||\n          !content\n        ) {\n          tokens[i].type = `${name}_empty`;\n          tokens[i].hidden = true;\n          continue;\n        }\n\n        // parse settings\n        if (foundSettings) {\n          if (type === \"fence\" && info === \"json\")\n            playgroundData.settings = <Record<string, unknown>>(\n              JSON.parse(content.trim())\n            );\n        }\n        // add code block content\n        else if (type === \"fence\" && currentKey) {\n          playgroundData.files[currentKey] = {\n            ext: info,\n            content: content,\n          };\n        }\n\n        tokens[i].type = `${name}_empty`;\n        tokens[i].hidden = true;\n      }\n    }\n\n    const props = propsGetter(playgroundData);\n\n    return `<${component} ${entries(props)\n      .map(([attr, value]) => `${attr}=\"${escapeHtml(value)}\"`)\n      .join(\" \")}>\\n`;\n  };\n\n  md.renderer.rules[`${name}_close`] = (): string => `</${component}>\\n`;\n};\n","/* eslint-disable */\n/**\n * Edited from https://github.com/microsoft/TypeScript-Website/blob/v2/packages/sandbox/src/vendor/lzstring.min.js\n */\n\n// Original license reproduced below:\n\n// DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n//                     Version 2, December 2004\n//\n//  Copyright (C) 2004 Sam Hocevar <sam@hocevar.net>\n//\n//  Everyone is permitted to copy and distribute verbatim or modified\n//  copies of this license document, and changing it is allowed as long\n//  as the name is changed.\n//\n//             DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n//    TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n//\n//   0. You just DO WHAT THE FUCK YOU WANT TO.\n//\n\nconst e = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\n\nconst compress = (o: string, r: number, n: (pos: number) => string) => {\n  if (null == o) return \"\";\n\n  let e,\n    t,\n    i,\n    s = <Record<string, number>>{},\n    p = <Record<string, boolean>>{},\n    u = \"\",\n    c = \"\",\n    a = \"\",\n    l = 2,\n    f = 3,\n    h = 2,\n    d = [],\n    m = 0,\n    v = 0;\n\n  for (i = 0; i < o.length; i += 1)\n    if (\n      ((u = o.charAt(i)),\n      Object.prototype.hasOwnProperty.call(s, u) || ((s[u] = f++), (p[u] = !0)),\n      (c = a + u),\n      Object.prototype.hasOwnProperty.call(s, c))\n    )\n      a = c;\n    else {\n      if (Object.prototype.hasOwnProperty.call(p, a)) {\n        if (a.charCodeAt(0) < 256) {\n          for (e = 0; h > e; e++)\n            (m <<= 1), v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++;\n          for (t = a.charCodeAt(0), e = 0; 8 > e; e++)\n            (m = (m << 1) | (1 & t)),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t >>= 1);\n        } else {\n          for (t = 1, e = 0; h > e; e++)\n            (m = (m << 1) | t),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t = 0);\n          for (t = a.charCodeAt(0), e = 0; 16 > e; e++)\n            (m = (m << 1) | (1 & t)),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t >>= 1);\n        }\n        l--, 0 == l && ((l = Math.pow(2, h)), h++), delete p[a];\n      } else\n        for (t = s[a], e = 0; h > e; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      l--, 0 == l && ((l = Math.pow(2, h)), h++), (s[c] = f++), (a = String(u));\n    }\n\n  if (\"\" !== a) {\n    if (Object.prototype.hasOwnProperty.call(p, a)) {\n      if (a.charCodeAt(0) < 256) {\n        for (e = 0; h > e; e++)\n          (m <<= 1), v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++;\n        for (t = a.charCodeAt(0), e = 0; 8 > e; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      } else {\n        for (t = 1, e = 0; h > e; e++)\n          (m = (m << 1) | t),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t = 0);\n        for (t = a.charCodeAt(0), e = 0; 16 > e; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      }\n      l--, 0 == l && ((l = Math.pow(2, h)), h++), delete p[a];\n    } else\n      for (t = s[a], e = 0; h > e; e++)\n        (m = (m << 1) | (1 & t)),\n          v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n          (t >>= 1);\n    l--, 0 == l && ((l = Math.pow(2, h)), h++);\n  }\n\n  for (t = 2, e = 0; h > e; e++)\n    (m = (m << 1) | (1 & t)),\n      v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n      (t >>= 1);\n\n  for (;;) {\n    if (((m <<= 1), v == r - 1)) {\n      d.push(n(m));\n      break;\n    }\n    v++;\n  }\n\n  return d.join(\"\");\n};\n\nexport const compressToEncodedURIComponent = (content: string) =>\n  compress(content, 6, (pos: number) => e.charAt(pos));\n","/**\n * This file needs to be updated with typescript major and minor updates\n *\n * https://www.typescriptlang.org/play\n *\n * Generated from the following code:\n *\n\nJSON.stringify(\n  ts.optionDeclarations.map(({ name, type }) => ({\n    name,\n    type: type instanceof Map ? Object.fromEntries(type) : type,\n  }))\n)\n *\n */\n\nexport const optionDeclarations = [\n  { name: \"help\", type: \"boolean\" },\n  { name: \"help\", type: \"boolean\" },\n  { name: \"watch\", type: \"boolean\" },\n  { name: \"preserveWatchOutput\", type: \"boolean\" },\n  { name: \"listFiles\", type: \"boolean\" },\n  { name: \"explainFiles\", type: \"boolean\" },\n  { name: \"listEmittedFiles\", type: \"boolean\" },\n  { name: \"pretty\", type: \"boolean\" },\n  { name: \"traceResolution\", type: \"boolean\" },\n  { name: \"diagnostics\", type: \"boolean\" },\n  { name: \"extendedDiagnostics\", type: \"boolean\" },\n  { name: \"generateCpuProfile\", type: \"string\" },\n  { name: \"generateTrace\", type: \"string\" },\n  { name: \"incremental\", type: \"boolean\" },\n  { name: \"declaration\", type: \"boolean\" },\n  { name: \"declarationMap\", type: \"boolean\" },\n  { name: \"emitDeclarationOnly\", type: \"boolean\" },\n  { name: \"sourceMap\", type: \"boolean\" },\n  { name: \"inlineSourceMap\", type: \"boolean\" },\n  { name: \"assumeChangesOnlyAffectDirectDependencies\", type: \"boolean\" },\n  { name: \"locale\", type: \"string\" },\n  { name: \"all\", type: \"boolean\" },\n  { name: \"version\", type: \"boolean\" },\n  { name: \"init\", type: \"boolean\" },\n  { name: \"project\", type: \"string\" },\n  { name: \"build\", type: \"boolean\" },\n  { name: \"showConfig\", type: \"boolean\" },\n  { name: \"listFilesOnly\", type: \"boolean\" },\n  {\n    name: \"target\",\n    type: {\n      es3: 0,\n      es5: 1,\n      es6: 2,\n      es2015: 2,\n      es2016: 3,\n      es2017: 4,\n      es2018: 5,\n      es2019: 6,\n      es2020: 7,\n      es2021: 8,\n      es2022: 9,\n      esnext: 99,\n    },\n  },\n  {\n    name: \"module\",\n    type: {\n      none: 0,\n      commonjs: 1,\n      amd: 2,\n      system: 4,\n      umd: 3,\n      es6: 5,\n      es2015: 5,\n      es2020: 6,\n      es2022: 7,\n      esnext: 99,\n      node16: 100,\n      nodenext: 199,\n    },\n  },\n  { name: \"lib\", type: \"list\" },\n  { name: \"allowJs\", type: \"boolean\" },\n  { name: \"checkJs\", type: \"boolean\" },\n  {\n    name: \"jsx\",\n    type: {\n      preserve: 1,\n      \"react-native\": 3,\n      react: 2,\n      \"react-jsx\": 4,\n      \"react-jsxdev\": 5,\n    },\n  },\n  { name: \"outFile\", type: \"string\" },\n  { name: \"outDir\", type: \"string\" },\n  { name: \"rootDir\", type: \"string\" },\n  { name: \"composite\", type: \"boolean\" },\n  { name: \"tsBuildInfoFile\", type: \"string\" },\n  { name: \"removeComments\", type: \"boolean\" },\n  { name: \"noEmit\", type: \"boolean\" },\n  { name: \"importHelpers\", type: \"boolean\" },\n  {\n    name: \"importsNotUsedAsValues\",\n    type: { remove: 0, preserve: 1, error: 2 },\n  },\n  { name: \"downlevelIteration\", type: \"boolean\" },\n  { name: \"isolatedModules\", type: \"boolean\" },\n  { name: \"verbatimModuleSyntax\", type: \"boolean\" },\n  { name: \"strict\", type: \"boolean\" },\n  { name: \"noImplicitAny\", type: \"boolean\" },\n  { name: \"strictNullChecks\", type: \"boolean\" },\n  { name: \"strictFunctionTypes\", type: \"boolean\" },\n  { name: \"strictBindCallApply\", type: \"boolean\" },\n  { name: \"strictPropertyInitialization\", type: \"boolean\" },\n  { name: \"noImplicitThis\", type: \"boolean\" },\n  { name: \"useUnknownInCatchVariables\", type: \"boolean\" },\n  { name: \"alwaysStrict\", type: \"boolean\" },\n  { name: \"noUnusedLocals\", type: \"boolean\" },\n  { name: \"noUnusedParameters\", type: \"boolean\" },\n  { name: \"exactOptionalPropertyTypes\", type: \"boolean\" },\n  { name: \"noImplicitReturns\", type: \"boolean\" },\n  { name: \"noFallthroughCasesInSwitch\", type: \"boolean\" },\n  { name: \"noUncheckedIndexedAccess\", type: \"boolean\" },\n  { name: \"noImplicitOverride\", type: \"boolean\" },\n  { name: \"noPropertyAccessFromIndexSignature\", type: \"boolean\" },\n  {\n    name: \"moduleResolution\",\n    type: {\n      node10: 2,\n      node: 2,\n      classic: 1,\n      node16: 3,\n      nodenext: 99,\n      bundler: 100,\n    },\n  },\n  { name: \"baseUrl\", type: \"string\" },\n  { name: \"paths\", type: \"object\" },\n  { name: \"rootDirs\", type: \"list\" },\n  { name: \"typeRoots\", type: \"list\" },\n  { name: \"types\", type: \"list\" },\n  { name: \"allowSyntheticDefaultImports\", type: \"boolean\" },\n  { name: \"esModuleInterop\", type: \"boolean\" },\n  { name: \"preserveSymlinks\", type: \"boolean\" },\n  { name: \"allowUmdGlobalAccess\", type: \"boolean\" },\n  { name: \"moduleSuffixes\", type: \"list\" },\n  { name: \"allowImportingTsExtensions\", type: \"boolean\" },\n  { name: \"resolvePackageJsonExports\", type: \"boolean\" },\n  { name: \"resolvePackageJsonImports\", type: \"boolean\" },\n  { name: \"customConditions\", type: \"list\" },\n  { name: \"sourceRoot\", type: \"string\" },\n  { name: \"mapRoot\", type: \"string\" },\n  { name: \"inlineSources\", type: \"boolean\" },\n  { name: \"experimentalDecorators\", type: \"boolean\" },\n  { name: \"emitDecoratorMetadata\", type: \"boolean\" },\n  { name: \"jsxFactory\", type: \"string\" },\n  { name: \"jsxFragmentFactory\", type: \"string\" },\n  { name: \"jsxImportSource\", type: \"string\" },\n  { name: \"resolveJsonModule\", type: \"boolean\" },\n  { name: \"allowArbitraryExtensions\", type: \"boolean\" },\n  { name: \"out\", type: \"string\" },\n  { name: \"reactNamespace\", type: \"string\" },\n  { name: \"skipDefaultLibCheck\", type: \"boolean\" },\n  { name: \"charset\", type: \"string\" },\n  { name: \"emitBOM\", type: \"boolean\" },\n  { name: \"newLine\", type: { crlf: 0, lf: 1 } },\n  { name: \"noErrorTruncation\", type: \"boolean\" },\n  { name: \"noLib\", type: \"boolean\" },\n  { name: \"noResolve\", type: \"boolean\" },\n  { name: \"stripInternal\", type: \"boolean\" },\n  { name: \"disableSizeLimit\", type: \"boolean\" },\n  { name: \"disableSourceOfProjectReferenceRedirect\", type: \"boolean\" },\n  { name: \"disableSolutionSearching\", type: \"boolean\" },\n  { name: \"disableReferencedProjectLoad\", type: \"boolean\" },\n  { name: \"noImplicitUseStrict\", type: \"boolean\" },\n  { name: \"noEmitHelpers\", type: \"boolean\" },\n  { name: \"noEmitOnError\", type: \"boolean\" },\n  { name: \"preserveConstEnums\", type: \"boolean\" },\n  { name: \"declarationDir\", type: \"string\" },\n  { name: \"skipLibCheck\", type: \"boolean\" },\n  { name: \"allowUnusedLabels\", type: \"boolean\" },\n  { name: \"allowUnreachableCode\", type: \"boolean\" },\n  { name: \"suppressExcessPropertyErrors\", type: \"boolean\" },\n  { name: \"suppressImplicitAnyIndexErrors\", type: \"boolean\" },\n  { name: \"forceConsistentCasingInFileNames\", type: \"boolean\" },\n  { name: \"maxNodeModuleJsDepth\", type: \"number\" },\n  { name: \"noStrictGenericChecks\", type: \"boolean\" },\n  { name: \"useDefineForClassFields\", type: \"boolean\" },\n  { name: \"preserveValueImports\", type: \"boolean\" },\n  { name: \"keyofStringsOnly\", type: \"boolean\" },\n  { name: \"plugins\", type: \"list\" },\n  { name: \"moduleDetection\", type: { auto: 2, legacy: 1, force: 3 } },\n  { name: \"ignoreDeprecations\", type: \"string\" },\n];\n","import type { CompilerOptions } from \"typescript\";\nimport {\n  deepAssign,\n  endsWith,\n  entries,\n  isPlainObject,\n  keys,\n} from \"vuepress-shared/node\";\n\nimport { compressToEncodedURIComponent } from \"./ventors/lzstring.js\";\nimport { optionDeclarations } from \"./ventors/optionDeclarations.js\";\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n  TSPresetPlaygroundOptions,\n} from \"../../typings/index.js\";\nimport { logger } from \"../../utils.js\";\n\n/** Gets a query string representation (hash + queries) */\nexport const getURL = (\n  code: string,\n  compilerOptions: CompilerOptions = {},\n): string => {\n  const hash = `#code/${compressToEncodedURIComponent(code)}`;\n\n  const queryString = entries(compilerOptions)\n    .map(([key, value]) => {\n      const item = optionDeclarations.find((option) => option.name === key)!;\n\n      if (!item || value === null || value === undefined) return \"\";\n\n      const { type } = item;\n\n      if (isPlainObject(type)) {\n        const result = type[value as keyof typeof type];\n\n        return result?.toString() || \"\";\n      }\n\n      return `${key}=${encodeURIComponent(value as string)}`;\n    })\n    .filter((value) => value.length)\n    .join(\"&\");\n\n  return `${queryString ? `?${queryString}` : \"\"}${hash}`;\n};\n\nexport const getTSPlaygroundPreset = ({\n  service = \"https://www.typescriptlang.org/play\",\n  ...compilerOptions\n}: TSPresetPlaygroundOptions = {}): PlaygroundOptions => ({\n  name: \"playground#ts\",\n  propsGetter: ({\n    title = \"\",\n    files,\n    settings,\n    key,\n  }: PlaygroundData): Record<string, string> => {\n    const tsfiles = keys(files).filter((key) => endsWith(key, \".ts\"));\n\n    if (tsfiles.length !== 1)\n      logger.error(\"TS playground only support 1 ts file\");\n\n    const link = `${service}${getURL(\n      files[tsfiles[0]].content,\n      deepAssign(\n        {},\n        <CompilerOptions>settings || {},\n        <CompilerOptions>compilerOptions,\n      ),\n    )}`;\n\n    return {\n      key,\n      title,\n      link: encodeURIComponent(link),\n    };\n  },\n});\n","import { deepAssign, entries, fromEntries } from \"vuepress-shared/node\";\n\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n  VuePresetPlaygroundOptions,\n} from \"../../typings/index.js\";\n\nconst VUE_SUPPORTED_EXTENSIONS = [\n  \"html\",\n  \"js\",\n  \"ts\",\n  \"vue\",\n  \"jsx\",\n  \"tsx\",\n  \"json\",\n];\n\nconst DEFAULT_VUE_CDN = \"https://sfc.vuejs.org/vue.runtime.esm-browser.js\";\nconst DEFAULT_VUE_SERVER_RENDERER_CDN =\n  \"https://sfc.vuejs.org/server-renderer.esm-browser.js\";\n\nexport const getVuePlaygroundPreset = (\n  options: VuePresetPlaygroundOptions = {},\n): PlaygroundOptions => ({\n  name: \"playground#vue\",\n  propsGetter: (playgroundData: PlaygroundData): Record<string, string> => {\n    const { title = \"\", files, settings: localSettings, key } = playgroundData;\n    const settings = {\n      // defaults\n      service: \"https://sfc.vuejs.org/\",\n      dev: false,\n      ssr: false,\n      ...options,\n      ...localSettings,\n    };\n\n    const fileInfo = fromEntries(\n      entries(files)\n        .filter(([, { ext }]) => VUE_SUPPORTED_EXTENSIONS.includes(ext))\n        .map(([key, { content }]) => {\n          if (key === \"import-map.json\") {\n            const importMap = <\n              {\n                imports: Record<string, string>;\n                scopes?: Record<string, Record<string, string>>;\n              }\n            >JSON.parse(content);\n\n            return [\n              key,\n              JSON.stringify(\n                deepAssign(\n                  {\n                    imports: {\n                      // insure vue exists\n                      vue: DEFAULT_VUE_CDN,\n                      // insure vue/server-renderer exists\n                      ...(settings.ssr\n                        ? {\n                            // eslint-disable-next-line @typescript-eslint/naming-convention\n                            \"vue/server-renderer\":\n                              DEFAULT_VUE_SERVER_RENDERER_CDN,\n                          }\n                        : {}),\n                    },\n                  },\n                  importMap,\n                ),\n                null,\n                2,\n              ),\n            ];\n          }\n\n          return [key, content];\n        }),\n    );\n\n    if (settings.ssr && !fileInfo[\"import-map.json\"])\n      fileInfo[\"import-map.json\"] = JSON.stringify(\n        {\n          imports: {\n            vue: DEFAULT_VUE_CDN,\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            \"vue/server-renderer\": DEFAULT_VUE_SERVER_RENDERER_CDN,\n          },\n        },\n        null,\n        2,\n      );\n\n    return {\n      key,\n      title,\n      link: encodeURIComponent(\n        `${settings.service}#${\n          // dev flag\n          settings.dev ? \"__DEV__\" : \"\"\n        }${\n          // ssr flag\n          settings.ssr ? \"__SSR__\" : \"\"\n        }${\n          // code base64\n          Buffer.from(JSON.stringify(fileInfo)).toString(\"base64\")\n        }`,\n      ),\n    };\n  },\n});\n","import { uml } from \"@mdit/plugin-uml\";\nimport type { PluginSimple } from \"markdown-it\";\nimport { utoa } from \"vuepress-shared/node\";\n\nexport const presentation: PluginSimple = (md) => {\n  md.use(uml, {\n    name: \"presentation\",\n    open: \"slidestart\",\n    close: \"slideend\",\n    render: (tokens, index): string => {\n      const token = tokens[index];\n      const key = `presentation-${index}`;\n      const { content, info } = token;\n\n      return `<Presentation id=\"${key}\" code=\"${utoa(content)}\" theme=\"${\n        info.trim() || \"auto\"\n      }\"></Presentation>`;\n    },\n  });\n};\n","import { tab } from \"@mdit/plugin-tab\";\nimport type { PluginSimple } from \"markdown-it\";\n\nimport { stringifyProp } from \"./utils.js\";\n\nexport const tabs: PluginSimple = (md) => {\n  tab(md, {\n    name: \"tabs\",\n\n    tabsOpenRenderer: ({ active, data }, tokens, index) => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const { meta } = tokens[index];\n      const titles = data.map(({ title }) => md.renderInline(title));\n      const tabsData = data.map((item, index) => {\n        const { id = titles[index] } = item;\n\n        return { id };\n      });\n\n      return `\\\n<Tabs id=\"${index}\" :data='${stringifyProp(tabsData)}'${\n        active !== -1 ? ` :active=\"${active}\"` : \"\"\n      }${\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        meta.id ? ` tab-id=\"${meta.id as string}\"` : \"\"\n      }>\n${titles\n  .map(\n    (title, index) => `\\\n<template #title${index}=\"{ value, isActive }\">${title}</template>\n`,\n  )\n  .join(\"\")}\\\n`;\n    },\n\n    tabsCloseRenderer: () => `\\\n</Tabs>\n`,\n\n    tabOpenRenderer: ({ index }) =>\n      `\\\n<template #tab${index}=\"{ value, isActive }\">\n`,\n\n    tabCloseRenderer: () => `\\\n</template>\n`,\n  });\n};\n","import { container } from \"@mdit/plugin-container\";\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const vPre: PluginSimple = (md) => {\n  container(md, {\n    name: \"v-pre\",\n    openRender: () => `<div v-pre>\\n`,\n    closeRender: () => \"</div>\\n\",\n  });\n};\n","import type { PluginSimple } from \"markdown-it\";\nimport { entries, fromEntries } from \"vuepress-shared/node\";\n\nimport { playground } from \"./playground/index.js\";\nimport type { PlaygroundData } from \"../typings/index.js\";\n\nconst VUE_SUPPORTED_EXTENSIONS = [\n  \"html\",\n  \"js\",\n  \"ts\",\n  \"vue\",\n  \"jsx\",\n  \"tsx\",\n  \"json\",\n];\n\nconst encodeFiles = (files: PlaygroundData[\"files\"]): string =>\n  Buffer.from(\n    JSON.stringify(\n      fromEntries(\n        entries(files)\n          .filter(([, { ext }]) => VUE_SUPPORTED_EXTENSIONS.includes(ext))\n          .map(([key, config]) => [key, config.content]),\n      ),\n    ),\n  ).toString(\"base64\");\n\nexport const vuePlayground: PluginSimple = (md) => {\n  md.use(playground, {\n    name: \"vue-playground\",\n    component: \"VuePlayground\",\n    propsGetter: ({ title = \"\", key, files, settings }: PlaygroundData) => ({\n      title,\n      key,\n      settings: encodeURIComponent(JSON.stringify(settings || {})),\n      files: encodeURIComponent(encodeFiles(files)),\n    }),\n  });\n};\n","import type { MarkdownEnhanceLocaleConfig } from \"./typings/index.js\";\n\nexport const markdownEnhanceLocales: MarkdownEnhanceLocaleConfig = {\n  \"/en/\": {\n    info: \"Info\",\n    note: \"Note\",\n    tip: \"Tips\",\n    warning: \"Note\",\n    danger: \"Warning\",\n    details: \"Details\",\n  },\n\n  \"/zh/\": {\n    info: \"相关信息\",\n    note: \"注\",\n    tip: \"提示\",\n    warning: \"注意\",\n    danger: \"警告\",\n    details: \"详情\",\n  },\n\n  \"/zh-tw/\": {\n    info: \"相關信息\",\n    note: \"注\",\n    tip: \"提示\",\n    warning: \"注意\",\n    danger: \"警告\",\n    details: \"詳情\",\n  },\n\n  \"/de/\": {\n    info: \"Information\",\n    note: \"Notiz\",\n    tip: \"Tips\",\n    warning: \"Warnung\",\n    danger: \"Gefahr\",\n    details: \"Details\",\n  },\n\n  \"/de-at/\": {\n    info: \"Information\",\n    note: \"Note\",\n    tip: \"Tips\",\n    warning: \"Notiz\",\n    danger: \"Warnung\",\n    details: \"Details\",\n  },\n\n  \"/vi/\": {\n    info: \"Thông tin\",\n    note: \"Note\",\n    tip: \"Tips\",\n    warning: \"Lưu ý\",\n    danger: \"Cẩn thận\",\n    details: \"Chi tiết\",\n  },\n\n  \"/uk/\": {\n    info: \"Інформація\",\n    note: \"Note\",\n    tip: \"Поради\",\n    warning: \"Примітка\",\n    danger: \"Увага\",\n    details: \"Деталь\",\n  },\n\n  \"/ru/\": {\n    info: \"Инфо\",\n    note: \"Заметка\",\n    tip: \"Совет\",\n    warning: \"Примечание\",\n    danger: \"Предупреждение\",\n    details: \"Подробности\",\n  },\n\n  \"/br/\": {\n    info: \"Informativo\",\n    note: \"Note\",\n    tip: \"Dicas\",\n    warning: \"Avisos\",\n    danger: \"Cuidado\",\n    details: \"Detalhe\",\n  },\n\n  \"/pl/\": {\n    info: \"Info\",\n    note: \"Notatka\",\n    tip: \"Porady\",\n    warning: \"Notatka\",\n    danger: \"Ostrzeżenie\",\n    details: \"Dane\",\n  },\n\n  \"/sk/\": {\n    info: \"Info\",\n    note: \"Poznámka\",\n    tip: \"Tip\",\n    warning: \"Upozornenie\",\n    danger: \"Pozor\",\n    details: \"Podrobnosti\",\n  },\n\n  \"/fr/\": {\n    info: \"Info\",\n    note: \"Note\",\n    tip: \"Conseil\",\n    warning: \"Note\",\n    danger: \"Avertissement\",\n    details: \"Details\",\n  },\n\n  \"/es/\": {\n    info: \"Información\",\n    note: \"Nota\",\n    tip: \"Consejos\",\n    warning: \"Aviso\",\n    danger: \"Advertencia\",\n    details: \"Detalles\",\n  },\n\n  \"/ja/\": {\n    info: \"関連情報\",\n    note: \"注\",\n    tip: \"ヒント\",\n    warning: \"注意\",\n    danger: \"警告\",\n    details: \"詳細\",\n  },\n\n  \"/tr/\": {\n    info: \"Bilgi\",\n    note: \"Not\",\n    tip: \"Tavsiye\",\n    warning: \"Uyarı\",\n    danger: \"Tehlike\",\n    details: \"Detay\",\n  },\n\n  \"/ko/\": {\n    info: \"정보\",\n    note: \"노트\",\n    tip: \"팁\",\n    warning: \"경고\",\n    danger: \"위험\",\n    details: \"세부사항\",\n  },\n\n  \"/fi/\": {\n    info: \"Tietoa\",\n    note: \"Huomautus\",\n    tip: \"Vinkki\",\n    warning: \"Varoitus\",\n    danger: \"Vaara\",\n    details: \"Yksityiskohdat\",\n  },\n\n  \"/hu/\": {\n    info: \"Információ\",\n    note: \"Megjegyzés\",\n    tip: \"Tipp\",\n    warning: \"Figyelem\",\n    danger: \"Veszély\",\n    details: \"Részletek\",\n  },\n\n  \"/id/\": {\n    info: \"Pemberitahuan\",\n    note: \"Catatan\",\n    tip: \"Tips\",\n    warning: \"Penting\",\n    danger: \"Peringatan\",\n    details: \"Rincian\",\n  },\n\n  \"/nl/\": {\n    info: \"Info\",\n    note: \"Notitie\",\n    tip: \"Tips\",\n    warning: \"Notitie\",\n    danger: \"Waarschuwing\",\n    details: \"Details\",\n  },\n};\n","import { colors } from \"@vuepress/utils\";\n\nimport { logger } from \"../utils.js\";\n\nexport interface DeprecatedLoggerOptions {\n  options: Record<string, unknown>;\n  deprecatedOption: string;\n  newOption: string;\n  msg?: string;\n  scope?: string;\n}\n\nexport const deprecatedLogger = ({\n  options,\n  deprecatedOption,\n  newOption,\n  msg = \"\",\n  scope = \"\",\n}: DeprecatedLoggerOptions): void => {\n  if (deprecatedOption in options) {\n    logger.warn(\n      `${colors.magenta(deprecatedOption)} is ${colors.yellow(\"deprecated\")}${\n        scope ? ` in ${scope}` : \"\"\n      }, please use \"${colors.magenta(newOption)}\" instead.${\n        msg ? `\\n${msg}` : \"\"\n      }`,\n    );\n\n    if (newOption.includes(\".\")) {\n      const keys = newOption.split(\".\");\n      let temp = options;\n\n      keys.forEach((key, index) => {\n        if (index !== keys.length - 1) {\n          // ensure level exists\n          temp[key] = temp[key] || {};\n\n          temp = temp[key] as Record<string, unknown>;\n        } else {\n          temp[key] = options[deprecatedOption];\n        }\n      });\n    } else {\n      options[newOption] = options[deprecatedOption];\n    }\n\n    delete options[deprecatedOption];\n  }\n};\n\nexport const droppedLogger = (\n  options: Record<string, unknown>,\n  droppedOption: string,\n  hint = \"\",\n  newOption = \"\",\n): void => {\n  if (droppedOption in options) {\n    logger.error(\n      `\"${colors.magenta(droppedOption)}\" is ${colors.red(\"removed\")}${\n        newOption\n          ? `, please use ${colors.magenta(newOption)} instead.`\n          : \" and no longer supported\"\n      }${hint ? `\\n${hint}` : \"\"}`,\n    );\n\n    if (!newOption) delete options[droppedOption];\n  }\n};\n","import { colors } from \"@vuepress/utils\";\nimport { isPlainObject } from \"vuepress-shared/node\";\n\nimport { deprecatedLogger, droppedLogger } from \"./utils.js\";\nimport type { LinksCheckStatus, MarkdownEnhanceOptions } from \"../options.js\";\nimport type { RevealPlugin } from \"../typings/index.js\";\nimport { logger } from \"../utils.js\";\n\n/** @deprecated */\nexport const convertOptions = (\n  options: MarkdownEnhanceOptions & Record<string, unknown>,\n): void => {\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"codegroup\",\n    newOption: \"codetabs\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"lazyload\",\n    newOption: \"imgLazyload\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"imageLazyload\",\n    newOption: \"imgLazyload\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"imageMark\",\n    newOption: \"imgMark\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"imageSize\",\n    newOption: \"imgSize\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"mdImport\",\n    newOption: \"include\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"tex\",\n    newOption: \"katex\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"vpre\",\n    newOption: \"vPre\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"imageTitle\",\n    newOption: \"figure\",\n  });\n  droppedLogger(options, \"enableAll\");\n  droppedLogger(options, \"lineNumbers\");\n  droppedLogger(options, \"imageFix\");\n\n  if (\"linkCheck\" in options) {\n    logger.warn(\n      `${colors.magenta(\n        \"linkCheck\",\n      )} is deprecated, please use ${colors.magenta(\"checkLinks\")} instead`,\n    );\n\n    options.checkLinks = {\n      status:\n        typeof options[\"linkCheck\"] === \"boolean\"\n          ? options[\"linkCheck\"]\n            ? \"always\"\n            : \"never\"\n          : (options[\"linkCheck\"] as LinksCheckStatus),\n    };\n  }\n\n  if (isPlainObject(options.presentation)) {\n    if (\"revealConfig\" in options.presentation)\n      logger.warn(\n        `${colors.magenta(\n          \"presentation.revealConfig\",\n        )} is deprecated, please import ${colors.magenta(\n          `defineRevealConfig`,\n        )} from ${colors.cyan(`vuepress-plugin-md-enhance/client`)} instead.`,\n      );\n\n    if (\"plugins\" in options.presentation) {\n      logger.warn(\n        `${colors.magenta(\n          \"presentation.plugins\",\n        )} is deprecated, please use ${colors.magenta(`presentation`)} instead`,\n      );\n\n      options.presentation = <RevealPlugin[]>options.presentation.plugins;\n    }\n  }\n};\n","import { container } from \"@mdit/plugin-container\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.js\";\nimport { utoa } from \"vuepress-shared/node\";\n\nimport { logger } from \"../utils.js\";\n\n/** @deprecated */\nexport const legacyCodeDemo: PluginSimple = (md) => {\n  md.use(container, {\n    name: \"demo\",\n    openRender: (tokens: Token[], index: number): string => {\n      logger.warn(\n        \"demo container is deprecated, you should use normal-demo, react-demo and vue-demo container instead.\",\n      );\n\n      const { info } = tokens[index];\n      const type = /\\[(.*)\\]/u.exec(info);\n      const title = /^ demo\\s*(?:\\[.*?\\])?\\s*(.*)\\s*$/u.exec(info);\n\n      let config = \"\";\n      const code: Record<string, string> = {};\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n        const language = info\n          ? md.utils\n              .unescapeAll(info)\n              .trim()\n              .match(/^([^ :[{]+)/)?.[1] || \"text\"\n          : \"\";\n\n        if (type === `container_demo_close`) break;\n        if (!content) continue;\n        if (type === \"fence\")\n          if (language === \"json\") config = utoa(content);\n          else code[language] = content;\n      }\n\n      return `\n<CodeDemo id=\"code-demo-${index}\" type=\"${type?.[1] || \"normal\"}\"${\n        title ? ` title=\"${encodeURIComponent(title[1])}\"` : \"\"\n      }${config ? ` config=\"${config}\"` : \"\"} code=\"${utoa(\n        JSON.stringify(code),\n      )}\">\n`;\n    },\n    closeRender: () => `</CodeDemo>`,\n  });\n};\n","import { container } from \"@mdit/plugin-container\";\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { PluginSimple } from \"markdown-it\";\n\nimport { logger } from \"../utils.js\";\n\n/** @deprecated */\nexport const legacyCodeGroup: PluginSimple = (md) => {\n  md.use(container, {\n    name: \"code-group\",\n    openRender: (_tokens, _index, _options, env: MarkdownEnv) => {\n      logger.warn(\n        `Deprecated code-group syntax found${\n          env.filePathRelative ? `in ${env.filePathRelative}` : \"\"\n        }, you should use code tabs instead. See https://plugin-md-enhance.vuejs.press/guide/code-tabs.html`,\n      );\n\n      return `<CodeGroup>\\n`;\n    },\n    closeRender: () => \"</CodeGroup>\\n\",\n  });\n\n  md.use(container, {\n    name: \"code-group-item\",\n    openRender: (tokens, index) => {\n      const { info } = tokens[index];\n      const isActive = info.split(\":\").pop() === \"active\";\n\n      return `<CodeGroupItem title=\"${\n        isActive ? info.replace(/:active$/, \"\") : info\n      }\"${isActive ? \" active\" : \"\"}>\\n`;\n    },\n    closeRender: () => \"</CodeGroupItem>\\n\",\n  });\n};\n","import type {\n  IncludeEnv,\n  MarkdownItIncludeOptions,\n} from \"@mdit/plugin-include\";\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport { fs, path } from \"@vuepress/utils\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleCore } from \"markdown-it/lib/parser_core.js\";\n\nimport { NEWLINES_RE } from \"../markdown-it/utils.js\";\nimport { logger } from \"../utils.js\";\n\ninterface ImportFileLineInfo {\n  filePath: string;\n  lineStart: number;\n  lineEnd: number | undefined;\n}\n\ninterface ImportFileRegionInfo {\n  filePath: string;\n  region: string;\n}\n\ntype ImportFileInfo = ImportFileLineInfo | ImportFileRegionInfo;\n\ninterface IncludeInfo {\n  cwd: string | null;\n  includedFiles: string[];\n  resolvedPath?: boolean;\n  currentPath?: string;\n}\n\nconst REGIONS_RE = [\n  /^\\/\\/ ?#?((?:end)?region) ([\\w*-]+)$/, // javascript, typescript, java\n  /^\\/\\* ?#((?:end)?region) ([\\w*-]+) ?\\*\\/$/, // css, less, scss\n  /^#pragma ((?:end)?region) ([\\w*-]+)$/, // C, C++\n  /^<!-- #?((?:end)?region) ([\\w*-]+) -->$/, // HTML, markdown\n  /^#((?:End )Region) ([\\w*-]+)$/, // Visual Basic\n  /^::#((?:end)region) ([\\w*-]+)$/, // Bat\n  /^# ?((?:end)?region) ([\\w*-]+)$/, // C#, PHP, Powershell, Python, perl & misc\n];\n\n// regexp to match the import syntax\nconst INCLUDE_RE =\n  /^@include\\(([^)]+(?:\\.[a-z0-9]+))(?:#([\\w-]+))?(?:\\{(\\d+)?-(\\d+)?\\})?\\)$/;\n\nconst dedent = (text: string): string => {\n  const lines = text.split(\"\\n\");\n\n  const minIndentLength = lines.reduce((acc, line) => {\n    for (let i = 0; i < line.length; i++)\n      if (line[i] !== \" \" && line[i] !== \"\\t\") return Math.min(i, acc);\n\n    return acc;\n  }, Infinity);\n\n  if (minIndentLength < Infinity)\n    return lines.map((x) => x.slice(minIndentLength)).join(\"\\n\");\n\n  return text;\n};\n\nconst testLine = (\n  line: string,\n  regexp: RegExp,\n  regionName: string,\n  end = false,\n): boolean => {\n  const [full, tag, name] = regexp.exec(line.trim()) || [];\n\n  return Boolean(\n    full &&\n      tag &&\n      name === regionName &&\n      tag.match(end ? /^[Ee]nd ?[rR]egion$/ : /^[rR]egion$/),\n  );\n};\n\nconst findRegion = (\n  lines: string[],\n  regionName: string,\n): { lineStart: number; lineEnd: number } | null => {\n  let regexp = null;\n  let lineStart = -1;\n\n  for (const [lineId, line] of lines.entries())\n    if (regexp === null) {\n      for (const reg of REGIONS_RE)\n        if (testLine(line, reg, regionName)) {\n          lineStart = lineId + 1;\n          regexp = reg;\n          break;\n        }\n    } else if (testLine(line, regexp, regionName, true)) {\n      return { lineStart, lineEnd: lineId };\n    }\n\n  return null;\n};\n\nexport const handleInclude = (\n  info: ImportFileInfo,\n  { cwd, includedFiles, resolvedPath }: IncludeInfo,\n): string => {\n  const { filePath } = info;\n  let realPath = filePath;\n\n  if (!path.isAbsolute(filePath)) {\n    // if the importPath is relative path, we need to resolve it\n    // according to the markdown filePath\n    if (!cwd) {\n      logger.error(`[include]: Error when resolving path: ${filePath}`);\n\n      return \"\\nError when resolving path\\n\";\n    }\n\n    realPath = path.resolve(cwd, filePath);\n  }\n\n  includedFiles.push(realPath);\n\n  // check file existence\n  if (!fs.existsSync(realPath)) {\n    logger.error(`Include: ${realPath} not found`);\n\n    return \"\\nFile not found\\n\";\n  }\n\n  // read file content\n  const fileContent = fs.readFileSync(realPath).toString();\n\n  const lines = fileContent.replace(NEWLINES_RE, \"\\n\").split(\"\\n\");\n  let results: string[] = [];\n\n  if (\"region\" in info) {\n    const region = findRegion(lines, info.region);\n\n    if (region) results = lines.slice(region.lineStart, region.lineEnd);\n  } else {\n    const { lineStart, lineEnd } = info;\n\n    results = lines.slice(lineStart ? lineStart - 1 : lineStart, lineEnd);\n  }\n\n  if (resolvedPath && realPath.endsWith(\".md\")) {\n    const dirName = path.dirname(realPath);\n\n    results.unshift(`@include-push(${dirName})`);\n    results.push(\"@include-pop()\");\n  }\n\n  return dedent(results.join(\"\\n\").replace(/\\n?$/, \"\\n\"));\n};\n\nexport const resolveInclude = (\n  content: string,\n  options: Required<MarkdownItIncludeOptions>,\n  { currentPath, cwd, includedFiles }: IncludeInfo,\n): string =>\n  content\n    .split(\"\\n\")\n    .map((line) => {\n      if (line.startsWith(\"@include\")) {\n        // check if it’s matched the syntax\n        const result = line.match(INCLUDE_RE);\n\n        if (result) {\n          logger.warn(\n            `\"@include(file)\" is deprecated, you should use \"<!-- @include: file -->\" instead.${\n              currentPath ? `\\n Found in ${currentPath}.` : \"\"\n            }`,\n          );\n\n          const [, includePath, region, lineStart, lineEnd] = result;\n          const actualPath = options.resolvePath(includePath, cwd);\n          const resolvedPath =\n            options.resolveImagePath || options.resolveLinkPath;\n\n          const content = handleInclude(\n            {\n              filePath: actualPath,\n              ...(region\n                ? { region }\n                : {\n                    lineStart: lineStart ? Number(lineStart) : 0,\n                    lineEnd: lineEnd ? Number(lineEnd) : undefined,\n                  }),\n            },\n            { cwd, includedFiles, resolvedPath },\n          );\n\n          return options.deep && actualPath.endsWith(\".md\")\n            ? resolveInclude(content, options, {\n                cwd: path.isAbsolute(actualPath)\n                  ? path.dirname(actualPath)\n                  : cwd\n                  ? path.resolve(cwd, path.dirname(actualPath))\n                  : null,\n                currentPath: currentPath ?? \"\",\n                includedFiles,\n              })\n            : content;\n        }\n      }\n\n      return line;\n    })\n    .join(\"\\n\");\n\nexport const createIncludeCoreRule =\n  (options: Required<MarkdownItIncludeOptions>): RuleCore =>\n  (state): void => {\n    const env = <IncludeEnv & MarkdownEnv>state.env;\n    const includedFiles = env.includedFiles || (env.includedFiles = []);\n    const currentPath = options.currentPath(env);\n\n    state.src = resolveInclude(state.src, options, {\n      cwd: currentPath ? path.dirname(currentPath) : null,\n      currentPath,\n      includedFiles,\n    });\n  };\n\n/** @deprecated */\nexport const legacyInclude: PluginWithOptions<MarkdownItIncludeOptions> = (\n  md,\n  options,\n): void => {\n  const {\n    currentPath,\n    resolvePath = (path: string): string => path,\n    deep = false,\n    resolveLinkPath = true,\n    resolveImagePath = true,\n  } = options || {};\n\n  if (typeof currentPath !== \"function\") {\n    logger.error('[include]: \"currentPath\" is required');\n\n    return;\n  }\n  // add md_import core rule\n  md.core.ruler.after(\n    \"normalize\",\n    \"md_legacy_import\",\n    createIncludeCoreRule({\n      currentPath,\n      resolvePath,\n      deep,\n      resolveLinkPath,\n      resolveImagePath,\n    }),\n  );\n};\n","import { uml } from \"@mdit/plugin-uml\";\nimport { logger } from \"@vuepress/utils\";\nimport type { PluginSimple } from \"markdown-it\";\nimport { utoa } from \"vuepress-shared/node\";\n\n/** @deprecated */\nexport const legacyFlowchart: PluginSimple = (md) => {\n  uml(md, {\n    name: \"flowchart\",\n    open: \"flowstart\",\n    close: \"flowend\",\n    render: (tokens, index): string => {\n      logger.warn(\n        '\"@flowstart ... @flowend\" is deprecated, you should use ```flow ... ``` instead.',\n      );\n\n      const token = tokens[index];\n      const key = `flowchart-${index}`;\n      const { content, info } = token;\n\n      return `<FlowChart id=\"${key}\" code=\"${utoa(content)}\" preset=\"${\n        info.trim() || \"vue\"\n      }\"></FlowChart>`;\n    },\n  });\n};\n","import type { App, Page } from \"@vuepress/core\";\nimport { logger } from \"@vuepress/utils\";\nimport {\n  isAbsoluteUrl,\n  isArray,\n  isFunction,\n  isRegExp,\n} from \"vuepress-shared/node\";\n\nimport type { MarkdownEnhanceOptions } from \"./options.js\";\n\nexport const defaultLinkCheck = (): boolean => false;\n\nexport const getLinksCheckStatus = (\n  app: App,\n  options: Partial<MarkdownEnhanceOptions>,\n): {\n  enabled: boolean;\n  isIgnoreLink: (link: string) => boolean;\n} => {\n  const { status = \"dev\", ignore = [] } = options.checkLinks || {};\n\n  return {\n    enabled:\n      // always check\n      status === \"always\" ||\n      // enable in dev\n      (app.env.isDev && status === \"dev\") ||\n      // enabled in build\n      (app.env.isBuild && status === \"build\") ||\n      false,\n    isIgnoreLink: isFunction(ignore)\n      ? (link: string): boolean => ignore(link, app.env.isDev)\n      : isArray(ignore)\n      ? (link: string): boolean =>\n          ignore.some((item) =>\n            isRegExp(item) ? item.test(link) : item === link,\n          )\n      : defaultLinkCheck,\n  };\n};\n\nexport const linksCheck = (\n  page: Page,\n  app: App,\n  isIgnoreLink: (link: string) => boolean,\n): void => {\n  const path = page.filePathRelative || page.path;\n  const { pages } = app;\n\n  const markdownLinks = page.links.filter(({ raw }) =>\n    raw.match(/.md((?:\\?|#).*)?$/),\n  );\n\n  const brokenLinks = [\n    ...markdownLinks\n      // relative markdown links\n      .filter(({ raw }) => !isAbsoluteUrl(raw))\n      .filter(\n        ({ relative }) =>\n          // check whether the page exists\n          pages.every(\n            ({ filePathRelative }) => filePathRelative !== decodeURI(relative),\n          ) && !isIgnoreLink(relative),\n      ),\n    ...markdownLinks\n      // absolute markdown links\n      .filter(({ raw }) => isAbsoluteUrl(raw))\n      .filter(({ absolute }) =>\n        // check whether the page exists\n        pages.every(\n          ({ filePathRelative }) =>\n            !filePathRelative ||\n            (`${app.options.base}${filePathRelative}` !== decodeURI(absolute) &&\n              !isIgnoreLink(absolute)),\n        ),\n      ),\n  ].map(({ raw }) => raw);\n\n  if (brokenLinks.length)\n    logger.warn(`Broken links found in ${path}: ${brokenLinks.join(\", \")}`);\n};\n","import { createRequire } from \"node:module\";\n\nimport type { App } from \"@vuepress/core\";\nimport { path } from \"@vuepress/utils\";\nimport { isPlainObject } from \"vuepress-shared/node\";\n\nimport type { MarkdownEnhanceOptions } from \"../options.js\";\nimport { CLIENT_FOLDER } from \"../utils.js\";\n\nconst require = createRequire(import.meta.url);\n\nexport const prepareConfigFile = async (\n  app: App,\n  options: MarkdownEnhanceOptions,\n  legacy = true,\n): Promise<string> => {\n  const imports: string[] = [];\n  const enhances: string[] = [];\n  const setups: string[] = [];\n\n  const getStatus = (\n    key: keyof MarkdownEnhanceOptions,\n    gfm = false,\n  ): boolean =>\n    key in options\n      ? Boolean(options[key])\n      : (gfm && \"gfm\" in options && options.gfm) || false;\n\n  if (getStatus(\"card\")) {\n    imports.push(`import VPCard from \"${CLIENT_FOLDER}components/VPCard.js\";`);\n    enhances.push(`app.component(\"VPCard\", VPCard)`);\n  }\n\n  if (getStatus(\"chart\")) {\n    imports.push(\n      `import ChartJS from \"${CLIENT_FOLDER}components/ChartJS.js\";`,\n    );\n    enhances.push(`app.component(\"ChartJS\", ChartJS)`);\n  }\n\n  if (getStatus(\"codetabs\")) {\n    imports.push(\n      `import CodeTabs from \"${CLIENT_FOLDER}components/CodeTabs.js\";`,\n    );\n    enhances.push(`app.component(\"CodeTabs\", CodeTabs);`);\n\n    // TODO: Remove this in v2 stable\n    if (legacy) {\n      imports.push(\n        `import { hasGlobalComponent } from \"${path.resolve(\n          require.resolve(\"vuepress-shared/client\"),\n        )}\";`,\n        `import { CodeGroup, CodeGroupItem } from \"${CLIENT_FOLDER}compact/index.js\";`,\n      );\n      enhances.push(\n        `if(!hasGlobalComponent(\"CodeGroup\", app)) app.component(\"CodeGroup\", CodeGroup);`,\n        `if(!hasGlobalComponent(\"CodeGroupItem\", app)) app.component(\"CodeGroupItem\", CodeGroupItem);`,\n      );\n    }\n  }\n\n  if (getStatus(\"container\"))\n    imports.push(`import \"${CLIENT_FOLDER}styles/container/index.scss\";`);\n\n  if (getStatus(\"demo\")) {\n    imports.push(\n      `import CodeDemo from \"${CLIENT_FOLDER}components/CodeDemo.js\";`,\n    );\n    enhances.push(`app.component(\"CodeDemo\", CodeDemo);`);\n  }\n\n  if (getStatus(\"echarts\")) {\n    imports.push(\n      `import ECharts from \"${CLIENT_FOLDER}components/ECharts.js\";`,\n    );\n    enhances.push(`app.component(\"ECharts\", ECharts);`);\n  }\n\n  if (getStatus(\"figure\", true))\n    imports.push(`import \"${CLIENT_FOLDER}styles/figure.scss\";`);\n\n  if (getStatus(\"flowchart\")) {\n    imports.push(\n      `import FlowChart from \"${CLIENT_FOLDER}components/FlowChart.js\";`,\n    );\n\n    enhances.push(`app.component(\"FlowChart\", FlowChart);`);\n  }\n\n  if (getStatus(\"footnote\", true))\n    imports.push(`import \"${CLIENT_FOLDER}styles/footnote.scss\";`);\n\n  if (getStatus(\"imgMark\", true))\n    imports.push(`import \"${CLIENT_FOLDER}styles/image-mark.scss\"`);\n\n  if (getStatus(\"mermaid\")) {\n    imports.push(\n      `import Mermaid from \"${CLIENT_FOLDER}components/Mermaid.js\";`,\n      `import { injectMermaidConfig } from \"${CLIENT_FOLDER}/index.js\";`,\n    );\n    enhances.push(\n      `injectMermaidConfig(app);`,\n      `app.component(\"Mermaid\", Mermaid);`,\n    );\n  }\n\n  if (getStatus(\"presentation\")) {\n    imports.push(\n      `import \"${path.resolve(require.resolve(\"reveal.js/dist/reveal.css\"))}\";`,\n      `import Presentation from \"${CLIENT_FOLDER}components/Presentation.js\";`,\n      `import { injectRevealConfig } from \"${CLIENT_FOLDER}index.js\";`,\n    );\n    enhances.push(\n      `injectRevealConfig(app);`,\n      `app.component(\"Presentation\", Presentation);`,\n    );\n  }\n\n  if (getStatus(\"playground\")) {\n    imports.push(\n      `import Playground from \"${CLIENT_FOLDER}components/Playground.js\";`,\n    );\n    enhances.push(`app.component(\"Playground\", Playground);`);\n  }\n\n  if (getStatus(\"tabs\")) {\n    imports.push(`import Tabs from \"${CLIENT_FOLDER}components/Tabs.js\";`);\n    enhances.push(`app.component(\"Tabs\", Tabs);`);\n  }\n\n  if (getStatus(\"tasklist\", true))\n    imports.push(`import \"${CLIENT_FOLDER}styles/tasklist.scss\";`);\n\n  if (getStatus(\"katex\")) {\n    imports.push(\n      `import \"${path.resolve(require.resolve(\"katex/dist/katex.min.css\"))}\";`,\n      `import \"${CLIENT_FOLDER}styles/katex.scss\";`,\n    );\n\n    if (isPlainObject(options.katex) && options.katex.copy) {\n      imports.push(\n        `import { useKatexCopy } from \"${CLIENT_FOLDER}composables/katex.js\";`,\n      );\n      setups.push(`useKatexCopy();`);\n    }\n  }\n\n  if (getStatus(\"vuePlayground\")) {\n    imports.push(\n      `import { defineAsyncComponent } from \"vue\";`,\n      `import { injectVuePlaygroundConfig } from \"${CLIENT_FOLDER}index.js\";`,\n    );\n    enhances.push(\n      `injectVuePlaygroundConfig(app);`,\n      `app.component(\"VuePlayground\", defineAsyncComponent(() => import(\"${CLIENT_FOLDER}components/VuePlayground.js\")));`,\n    );\n  }\n\n  if (getStatus(\"mathjax\")) imports.push(`import \"./mathjax.css\";`);\n\n  return app.writeTemp(\n    `md-enhance/config.js`,\n    `\\\nimport { defineClientConfig } from \"@vuepress/client\";\n${imports.join(\"\\n\")}\n\nexport default defineClientConfig({\n  enhance: ({ app }) => {\n${enhances.map((item) => `    ${item}`).join(\"\\n\")}\n  },\n  setup: () => {\n${setups.join(\"\\n\")}\n  }\n});\n`,\n  );\n};\n","import type { MathjaxInstance } from \"@mdit/plugin-mathjax\";\nimport type { App } from \"@vuepress/core\";\n\n// prevent mathjax breaking mobile layout\nconst style = `\\\nmjx-container {\n  overflow-x: auto;\n}\n`;\n\nexport const prepareMathjaxStyleFile = async (\n  app: App,\n  mathjaxInstance: MathjaxInstance,\n): Promise<void> => {\n  await app.writeTemp(\n    \"md-enhance/mathjax.css\",\n    `${mathjaxInstance.outputStyle()}\\n${style}`,\n  );\n};\n","import type { App } from \"@vuepress/core\";\n\nimport type { RevealPlugin } from \"../typings/index.js\";\nimport { CLIENT_FOLDER } from \"../utils.js\";\n\nexport const prepareRevealPluginFile = async (\n  app: App,\n  revealPlugins: RevealPlugin[],\n): Promise<void> => {\n  const packages = [\n    \"reveal\",\n    \"revealMarkdown\",\n    ...revealPlugins.map(\n      (key) => `reveal${key[0].toUpperCase()}${key.substring(1)}`,\n    ),\n  ];\n\n  await app.writeTemp(\n    \"md-enhance/reveal.js\",\n    `\\\nimport { ${packages.join(\", \")} } from \"${CLIENT_FOLDER}index.js\";\n\nexport const useReveal = () => [${packages\n      .map((name) => `${name}()`)\n      .join(\", \")}];\n`,\n  );\n};\n","import { align } from \"@mdit/plugin-align\";\nimport { attrs } from \"@mdit/plugin-attrs\";\nimport { figure } from \"@mdit/plugin-figure\";\nimport { footnote } from \"@mdit/plugin-footnote\";\nimport { imgLazyload } from \"@mdit/plugin-img-lazyload\";\nimport { imgMark } from \"@mdit/plugin-img-mark\";\nimport { imgSize, obsidianImageSize } from \"@mdit/plugin-img-size\";\nimport { include } from \"@mdit/plugin-include\";\nimport { katex } from \"@mdit/plugin-katex\";\nimport { mark } from \"@mdit/plugin-mark\";\nimport { createMathjaxInstance, mathjax } from \"@mdit/plugin-mathjax\";\nimport { stylize } from \"@mdit/plugin-stylize\";\nimport { sub } from \"@mdit/plugin-sub\";\nimport { sup } from \"@mdit/plugin-sup\";\nimport { tasklist } from \"@mdit/plugin-tasklist\";\nimport type { PluginFunction } from \"@vuepress/core\";\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport { colors } from \"@vuepress/utils\";\nimport { useSassPalettePlugin } from \"vuepress-plugin-sass-palette\";\nimport {\n  MATHML_TAGS,\n  addChainWebpack,\n  addCustomElement,\n  addViteOptimizeDepsExclude,\n  addViteOptimizeDepsInclude,\n  addViteSsrExternal,\n  addViteSsrNoExternal,\n  checkVersion,\n  detectPackageManager,\n  getBundlerName,\n  getLocales,\n  isArray,\n  isPlainObject,\n} from \"vuepress-shared/node\";\n\nimport {\n  convertOptions,\n  legacyCodeDemo,\n  legacyCodeGroup,\n  legacyFlowchart,\n  legacyInclude,\n} from \"./compact/index.js\";\nimport { getLinksCheckStatus, linksCheck } from \"./linksCheck.js\";\nimport { markdownEnhanceLocales } from \"./locales.js\";\nimport {\n  CODE_DEMO_DEFAULT_SETTING,\n  card,\n  chart,\n  codeTabs,\n  echarts,\n  flowchart,\n  getTSPlaygroundPreset,\n  getVuePlaygroundPreset,\n  hint,\n  mermaid,\n  normalDemo,\n  playground,\n  presentation,\n  reactDemo,\n  tabs,\n  vPre,\n  vueDemo,\n  vuePlayground,\n} from \"./markdown-it/index.js\";\nimport type { MarkdownEnhanceOptions } from \"./options.js\";\nimport {\n  prepareConfigFile,\n  prepareMathjaxStyleFile,\n  prepareRevealPluginFile,\n} from \"./prepare/index.js\";\nimport type { KatexOptions } from \"./typings/index.js\";\nimport { PLUGIN_NAME, logger } from \"./utils.js\";\n\nexport const mdEnhancePlugin =\n  (\n    options: MarkdownEnhanceOptions = { gfm: true },\n    legacy = true,\n  ): PluginFunction =>\n  (app) => {\n    // TODO: Remove this in v2 stable\n    if (legacy)\n      convertOptions(\n        options as MarkdownEnhanceOptions & Record<string, unknown>,\n      );\n\n    checkVersion(app, PLUGIN_NAME, \"2.0.0-beta.66\");\n\n    if (app.env.isDebug) logger.info(\"Options:\", options);\n\n    const getStatus = (\n      key: keyof MarkdownEnhanceOptions,\n      gfm = false,\n    ): boolean =>\n      key in options ? Boolean(options[key]) : (gfm && options.gfm) || false;\n\n    const locales = getLocales({\n      app,\n      name: PLUGIN_NAME,\n      default: markdownEnhanceLocales,\n      config: options.locales,\n    });\n\n    const chartEnable = getStatus(\"chart\");\n    const echartsEnable = getStatus(\"echarts\");\n    const flowchartEnable = getStatus(\"flowchart\");\n    const footnoteEnable = getStatus(\"footnote\", true);\n    const imgMarkEnable = getStatus(\"imgMark\", true);\n    const includeEnable = getStatus(\"include\");\n    const tasklistEnable = getStatus(\"tasklist\", true);\n    const mermaidEnable = getStatus(\"mermaid\");\n    const presentationEnable = getStatus(\"presentation\");\n    const katexEnable = getStatus(\"katex\");\n    const mathjaxEnable = getStatus(\"mathjax\", true);\n    const vuePlaygroundEnable = getStatus(\"vuePlayground\");\n\n    const { enabled: linksCheckEnabled, isIgnoreLink } = getLinksCheckStatus(\n      app,\n      options,\n    );\n\n    const katexOptions: KatexOptions<MarkdownEnv> = {\n      mathFence: options.gfm ?? false,\n      macros: {\n        // support more symbols\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"\\\\liiiint\": \"\\\\int\\\\!\\\\!\\\\!\\\\iiint\",\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"\\\\iiiint\": \"\\\\int\\\\!\\\\!\\\\!\\\\!\\\\iiint\",\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"\\\\idotsint\": \"\\\\int\\\\!\\\\cdots\\\\!\\\\int\",\n      },\n      logger: (errorCode, errorMsg, token, { filePathRelative }) => {\n        // ignore this error\n        if (errorCode === \"newLineInDisplayMode\") return;\n\n        if (errorCode === \"unicodeTextInMathMode\")\n          logger.warn(\n            `Found unicode character ${token.text} inside tex${\n              filePathRelative ? ` in ${colors.cyan(filePathRelative)}` : \"\"\n            }. You should use ${colors.magenta(`\\\\text{${token.text}}`)}`,\n          );\n        else\n          logger.warn(\n            `${errorMsg}.${\n              filePathRelative\n                ? `\\nFound in ${colors.cyan(filePathRelative)}`\n                : \"\"\n            }`,\n          );\n      },\n      ...(isPlainObject(options.katex) ? options.katex : {}),\n    };\n\n    const mathjaxInstance =\n      options.mathjax === false\n        ? null\n        : createMathjaxInstance({\n            mathFence: options.gfm ?? false,\n            ...(isPlainObject(options.mathjax) ? options.mathjax : {}),\n          });\n\n    const revealPlugins = isArray(options.presentation)\n      ? options.presentation\n      : [];\n\n    useSassPalettePlugin(app, { id: \"hope\" });\n\n    let isAppInitialized = false;\n\n    return {\n      name: PLUGIN_NAME,\n\n      define: (): Record<string, unknown> => ({\n        MARKDOWN_ENHANCE_DELAY: options.delay || 800,\n        CODE_DEMO_OPTIONS: {\n          ...CODE_DEMO_DEFAULT_SETTING,\n          ...(isPlainObject(options.demo) ? options.demo : {}),\n        },\n      }),\n\n      alias: (app): Record<string, string> => ({\n        // we can not let vite force optimize deps with pnpm, so we use a full bundle in devServer here\n        \"@mermaid\":\n          app.env.isDev &&\n          detectPackageManager() === \"pnpm\" &&\n          getBundlerName(app) === \"vite\"\n            ? \"mermaid/dist/mermaid.esm.min.mjs\"\n            : \"mermaid\",\n      }),\n\n      extendsBundlerOptions: (bundlerOptions: unknown, app): void => {\n        addViteSsrNoExternal(bundlerOptions, app, [\n          \"fflate\",\n          \"vuepress-shared\",\n        ]);\n\n        if (katexEnable && katexOptions.output !== \"html\") {\n          addCustomElement(bundlerOptions, app, MATHML_TAGS);\n        } else if (mathjaxEnable) {\n          addCustomElement(bundlerOptions, app, /^mjx-/);\n          if (mathjaxInstance?.documentOptions.enableAssistiveMml)\n            addCustomElement(bundlerOptions, app, MATHML_TAGS);\n        }\n        if (chartEnable) {\n          addViteOptimizeDepsExclude(\n            bundlerOptions,\n            app,\n            \"chart.js/auto/auto.mjs\",\n          );\n          addViteSsrExternal(bundlerOptions, app, \"chart.js\");\n        }\n\n        if (echartsEnable) {\n          addViteOptimizeDepsExclude(bundlerOptions, app, \"echarts\");\n          addViteSsrExternal(bundlerOptions, app, \"echarts\");\n        }\n\n        if (flowchartEnable) {\n          addViteOptimizeDepsExclude(bundlerOptions, app, \"flowchart.ts\");\n          addViteSsrExternal(bundlerOptions, app, \"flowchart.ts\");\n        }\n\n        if (mermaidEnable) {\n          addViteOptimizeDepsInclude(bundlerOptions, app, \"mermaid\");\n          addViteSsrExternal(bundlerOptions, app, \"mermaid\");\n        }\n\n        if (presentationEnable) {\n          addViteOptimizeDepsExclude(bundlerOptions, app, [\n            \"reveal.js/dist/reveal.esm.js\",\n            \"reveal.js/plugin/markdown/markdown.esm.js\",\n            ...revealPlugins.map(\n              (plugin) => `reveal.js/plugin/${plugin}/${plugin}.esm.js`,\n            ),\n          ]);\n\n          addViteSsrExternal(bundlerOptions, app, \"reveal.js\");\n        }\n\n        if (vuePlaygroundEnable) {\n          addViteOptimizeDepsInclude(bundlerOptions, app, \"@vue/repl\");\n          addViteSsrExternal(bundlerOptions, app, \"@vue/repl\");\n\n          // hide webpack warnings\n          addChainWebpack(bundlerOptions, app, (config) => {\n            config.module.set(\"exprContextCritical\", false);\n            config.module.set(\"unknownContextCritical\", false);\n          });\n        }\n      },\n\n      extendsMarkdown: (md): void => {\n        // syntax\n        if (getStatus(\"attrs\"))\n          md.use(attrs, isPlainObject(options.attrs) ? options.attrs : {});\n        if (getStatus(\"align\")) md.use(align);\n        if (getStatus(\"breaks\", true)) md.options.breaks = true;\n        if (getStatus(\"container\")) md.use(hint, locales);\n        if (getStatus(\"imgLazyload\")) md.use(imgLazyload);\n        if (getStatus(\"figure\")) md.use(figure);\n        if (imgMarkEnable)\n          md.use(\n            imgMark,\n            isPlainObject(options.imgMark) ? options.imgMark : {},\n          );\n\n        if (getStatus(\"imgSize\")) md.use(imgSize);\n        if (getStatus(\"linkify\", true)) md.options.linkify = true;\n        if (getStatus(\"obsidianImgSize\")) md.use(obsidianImageSize);\n        if (getStatus(\"sup\")) md.use(sup);\n        if (getStatus(\"sub\")) md.use(sub);\n        if (footnoteEnable) md.use(footnote);\n        if (getStatus(\"mark\")) md.use(mark);\n        if (tasklistEnable)\n          md.use(tasklist, [\n            isPlainObject(options.tasklist) ? options.tasklist : {},\n          ]);\n\n        // additional functions\n        if (\n          getStatus(\"vPre\") ||\n          // TODO: Remove this in v2 stable\n          legacy\n        )\n          md.use(vPre);\n        if (katexEnable) {\n          md.use(katex, katexOptions);\n        } else if (mathjaxEnable) {\n          md.use(mathjax, mathjaxInstance!);\n          // reset after each render\n          md.use((md) => {\n            const originalRender = md.render.bind(md);\n\n            md.render = (src: string, env: unknown): string => {\n              const result = originalRender(src, env);\n\n              mathjaxInstance!.reset();\n\n              return result;\n            };\n          });\n        }\n\n        if (includeEnable) {\n          md.use(include, {\n            currentPath: (env: MarkdownEnv) => env.filePath,\n            ...(isPlainObject(options.include) ? options.include : {}),\n          });\n          if (legacy)\n            md.use(legacyInclude, {\n              currentPath: (env: MarkdownEnv) => env.filePath,\n            });\n        }\n\n        if (getStatus(\"stylize\"))\n          md.use(stylize, {\n            config: options.stylize,\n            localConfigGetter: (env: MarkdownEnv) =>\n              env.frontmatter?.[\"stylize\"] || null,\n          });\n\n        // features\n        if (getStatus(\"card\")) md.use(card);\n        if (getStatus(\"codetabs\")) {\n          md.use(codeTabs);\n          // TODO: Remove this in v2 stable\n          if (legacy) md.use(legacyCodeGroup);\n        }\n        if (getStatus(\"tabs\")) md.use(tabs);\n        if (flowchartEnable) {\n          md.use(flowchart);\n          // TODO: Remove this in v2 stable\n          if (legacy) md.use(legacyFlowchart);\n        }\n        if (chartEnable) md.use(chart);\n        if (echartsEnable) md.use(echarts);\n        if (getStatus(\"demo\")) {\n          md.use(normalDemo);\n          md.use(vueDemo);\n          md.use(reactDemo);\n          // TODO: Remove this in v2 stable\n          if (legacy) md.use(legacyCodeDemo);\n        }\n        if (mermaidEnable) md.use(mermaid);\n        if (presentationEnable) md.use(presentation);\n        if (isPlainObject(options.playground)) {\n          const { presets = [], config = {} } = options.playground;\n\n          presets.forEach((preset) => {\n            if (preset === \"ts\")\n              md.use(playground, getTSPlaygroundPreset(config.ts || {}));\n            else if (preset === \"vue\")\n              md.use(playground, getVuePlaygroundPreset(config.vue || {}));\n            else if (isPlainObject(preset)) md.use(playground, preset);\n          });\n        }\n        if (vuePlaygroundEnable) md.use(vuePlayground);\n      },\n\n      extendsPage: (page, app): void => {\n        if (linksCheckEnabled && isAppInitialized)\n          linksCheck(page, app, isIgnoreLink);\n        if (includeEnable)\n          page.deps.push(...(<string[]>page.markdownEnv[\"includedFiles\"]));\n      },\n\n      onInitialized: (app): void => {\n        isAppInitialized = true;\n        if (linksCheckEnabled)\n          app.pages.forEach((page) => linksCheck(page, app, isIgnoreLink));\n      },\n\n      onPrepared: (app): Promise<void> =>\n        Promise.all([\n          mathjaxEnable\n            ? prepareMathjaxStyleFile(app, mathjaxInstance!)\n            : Promise.resolve(),\n          prepareRevealPluginFile(app, revealPlugins),\n        ]).then(() => void 0),\n\n      clientConfigFile: (app) => prepareConfigFile(app, options, legacy),\n    };\n  };\n"],"names":["NEWLINES_RE","stringifyProp","data","escapeHtml","unsafeHTML","__dirname","getDirname","PLUGIN_NAME","logger","Logger","CLIENT_FOLDER","ensureEndingSlash","path","CARD_PROPS","checkCardProps","config","isPlainObject","isString","fromEntries","entries","item","cardRender","tokens","index","_options","filePathRelative","token","content","info","language","load","err","cardData","card","md","container","fence","args","options","env","chart","title","key","configType","i","type","utoa","CODE_DEMO_DEFAULT_SETTING","getPlugin","name","_a","code","normalDemo","vueDemo","reactDemo","codeTabs","tab","active","meta","titles","tabsData","id","tokenIndex","foundFence","block","echartsRender","echarts","isJavaScript","flowchartRender","flowchart","realInfo","hint","relativePath","ensureLeadingSlash","localePath","resolveLocalePath","mermaidRenderer","getMermaidContent","diagram","line","getMermaid","DIAGRAM_MAP","mermaid","fenceInfo","rest","AT_MARKER","VALID_MARKERS","getPlaygroundRule","state","startLine","endLine","silent","start","max","pos","markerCount","markup","params","containerName","nextLine","autoClosed","oldParent","oldLineMax","openToken","closeToken","atMarkerRule","markerName","atMarker","openMakerMatched","defaultPropsGetter","playgroundData","playground","component","propsGetter","marker","hash","currentKey","foundSettings","props","attr","value","e","compress","o","r","n","t","s","p","u","c","a","l","f","h","d","m","v","compressToEncodedURIComponent","optionDeclarations","getURL","compilerOptions","queryString","option","result","getTSPlaygroundPreset","service","files","settings","tsfiles","keys","endsWith","link","deepAssign","VUE_SUPPORTED_EXTENSIONS","DEFAULT_VUE_CDN","DEFAULT_VUE_SERVER_RENDERER_CDN","getVuePlaygroundPreset","localSettings","fileInfo","ext","importMap","presentation","uml","tabs","vPre","encodeFiles","vuePlayground","markdownEnhanceLocales","deprecatedLogger","deprecatedOption","newOption","msg","scope","colors","temp","droppedLogger","droppedOption","convertOptions","legacyCodeDemo","legacyCodeGroup","_tokens","_index","isActive","REGIONS_RE","INCLUDE_RE","dedent","text","lines","minIndentLength","acc","x","testLine","regexp","regionName","end","full","tag","findRegion","lineStart","lineId","reg","handleInclude","cwd","includedFiles","resolvedPath","filePath","realPath","fs","results","region","lineEnd","dirName","resolveInclude","currentPath","includePath","actualPath","createIncludeCoreRule","legacyInclude","resolvePath","deep","resolveLinkPath","resolveImagePath","legacyFlowchart","defaultLinkCheck","getLinksCheckStatus","app","status","ignore","isFunction","isArray","isRegExp","linksCheck","page","isIgnoreLink","pages","markdownLinks","raw","brokenLinks","isAbsoluteUrl","relative","absolute","require","createRequire","prepareConfigFile","legacy","imports","enhances","setups","getStatus","gfm","style","prepareMathjaxStyleFile","mathjaxInstance","prepareRevealPluginFile","revealPlugins","packages","mdEnhancePlugin","checkVersion","locales","getLocales","chartEnable","echartsEnable","flowchartEnable","footnoteEnable","imgMarkEnable","includeEnable","tasklistEnable","mermaidEnable","presentationEnable","katexEnable","mathjaxEnable","vuePlaygroundEnable","linksCheckEnabled","katexOptions","errorCode","errorMsg","createMathjaxInstance","useSassPalettePlugin","isAppInitialized","detectPackageManager","getBundlerName","bundlerOptions","addViteSsrNoExternal","addCustomElement","MATHML_TAGS","addViteOptimizeDepsExclude","addViteSsrExternal","addViteOptimizeDepsInclude","plugin","addChainWebpack","attrs","align","imgLazyload","figure","imgMark","imgSize","obsidianImageSize","sup","sub","footnote","mark","tasklist","katex","mathjax","originalRender","src","include","stylize","presets","preset"],"mappings":"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"}