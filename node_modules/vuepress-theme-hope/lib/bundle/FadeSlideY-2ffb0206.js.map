{"version":3,"file":"FadeSlideY-2ffb0206.js","sources":["../../src/client/composables/scrollPromise.ts","../../src/client/components/transitions/FadeSlideY.ts"],"sourcesContent":["export interface ScrollPromise {\n  wait(): Promise<void> | null;\n  pending: () => void;\n  resolve: () => void;\n}\n\nlet promise: Promise<void> | null = null;\nlet promiseResolve: (() => void) | null = null;\n\nconst scrollPromise: ScrollPromise = {\n  wait: () => promise,\n  pending: () => {\n    promise = new Promise((resolve) => (promiseResolve = resolve));\n  },\n  resolve: () => {\n    promiseResolve?.();\n    promise = null;\n    promiseResolve = null;\n  },\n};\n\nexport const useScrollPromise = (): ScrollPromise => scrollPromise;\n","import type { SlotsType, VNode } from \"vue\";\nimport { Transition, defineComponent, h } from \"vue\";\n\nimport { useScrollPromise } from \"@theme-hope/composables/index\";\n\nimport \"../../styles/fade-slide-y.scss\";\n\nexport default defineComponent({\n  name: \"FadeSlideY\",\n\n  slots: Object as SlotsType<{\n    default: () => VNode;\n  }>,\n\n  setup(_props, { slots }) {\n    // handle scrollBehavior with transition\n    const { resolve: onBeforeEnter, pending: onBeforeLeave } =\n      useScrollPromise();\n\n    return (): VNode =>\n      h(\n        Transition,\n        {\n          name: \"fade-slide-y\",\n          mode: \"out-in\",\n          onBeforeEnter,\n          onBeforeLeave,\n        },\n        () => slots.default?.(),\n      );\n  },\n});\n"],"names":["promise","promiseResolve","scrollPromise","resolve","useScrollPromise","n","defineComponent","_props","slots","onBeforeEnter","onBeforeLeave","h","Transition","_a"],"mappings":"6DAMA,IAAIA,EAAgC,KAChCC,EAAsC,KAE1C,MAAMC,EAA+B,CACnC,KAAM,IAAMF,EACZ,QAAS,IAAM,CACbA,EAAU,IAAI,QAASG,GAAaF,EAAiBE,CAAQ,CAC/D,EACA,QAAS,IAAM,CACbF,GAAA,MAAAA,EAAAA,EACAD,EAAU,KACVC,EAAiB,IACnB,CACF,EAEaG,EAAmB,IAAqBF,ECdrD,IAAAG,EAAeC,EAAgB,CAC7B,KAAM,aAEN,MAAO,OAIP,MAAMC,EAAQ,CAAE,MAAAC,CAAM,EAAG,CAEvB,KAAM,CAAE,QAASC,EAAe,QAASC,CAAc,EACrDN,EAAiB,EAEnB,MAAO,IACLO,EACEC,EACA,CACE,KAAM,eACN,KAAM,SACN,cAAAH,EACA,cAAAC,CACF,EACA,IAAG,CA5BX,IAAAG,EA4Bc,OAAAA,EAAAL,EAAM,UAAN,KAAA,OAAAK,EAAA,KAAAL,CACR,CAAA,CAAA,CACJ,CACF,CAAC"}