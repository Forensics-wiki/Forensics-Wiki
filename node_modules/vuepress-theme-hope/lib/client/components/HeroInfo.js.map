{"version":3,"file":"HeroInfo.js","sourceRoot":"","sources":["../../../src/client/components/HeroInfo.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  usePageFrontmatter,\n  useSiteLocaleData,\n  withBase,\n} from \"@vuepress/client\";\nimport type { SlotsType, VNode } from \"vue\";\nimport { computed, defineComponent, h } from \"vue\";\nimport { isString } from \"vuepress-shared/client\";\n\nimport AutoLink from \"@theme-hope/components/AutoLink\";\nimport DropTransition from \"@theme-hope/components/transitions/DropTransition\";\n\nimport type { ThemeProjectHomePageFrontmatter } from \"../../shared/index.js\";\n\nimport \"../styles/hero-info.scss\";\n\nexport interface HeroInfo {\n  text: string | null;\n  tagline: string | null;\n  isFullScreen: boolean;\n}\n\nexport interface HeroImage {\n  image: string | null;\n  imageDark: string | null;\n  heroStyle: string | Record<string, string> | undefined;\n  alt: string;\n  isFullScreen: boolean;\n}\n\nexport interface BackgroundInfo {\n  image: string | null;\n  bgStyle: string | Record<string, string> | undefined;\n  isFullScreen: boolean;\n}\n\nexport default defineComponent({\n  name: \"HeroInfo\",\n\n  slots: Object as SlotsType<{\n    heroBg?: (props: BackgroundInfo) => VNode | VNode[];\n    heroImage?: (props: HeroImage) => VNode | VNode[];\n    heroInfo?: (props: HeroInfo) => VNode | VNode[];\n  }>,\n\n  setup(_props, { slots }) {\n    const frontmatter = usePageFrontmatter<ThemeProjectHomePageFrontmatter>();\n    const siteLocale = useSiteLocaleData();\n\n    const isFullScreen = computed(\n      () => frontmatter.value.heroFullScreen ?? false,\n    );\n\n    const heroInfo = computed(() => {\n      const { heroText, tagline } = frontmatter.value;\n\n      return {\n        text: heroText ?? siteLocale.value.title ?? \"Hello\",\n        tagline: tagline ?? siteLocale.value.description ?? \"\",\n        isFullScreen: isFullScreen.value,\n      };\n    });\n\n    const heroImage = computed(() => {\n      const { heroText, heroImage, heroImageDark, heroAlt, heroImageStyle } =\n        frontmatter.value;\n\n      return {\n        image: heroImage ? withBase(heroImage) : null,\n        imageDark: heroImageDark ? withBase(heroImageDark) : null,\n        heroStyle: heroImageStyle,\n        alt: heroAlt || heroText || \"hero image\",\n        isFullScreen: isFullScreen.value,\n      };\n    });\n\n    const bgInfo = computed(() => {\n      const { bgImage, bgImageDark, bgImageStyle } = frontmatter.value;\n\n      return {\n        image: isString(bgImage) ? withBase(bgImage) : null,\n        imageDark: isString(bgImageDark) ? withBase(bgImageDark) : null,\n        bgStyle: bgImageStyle,\n        isFullScreen: isFullScreen.value,\n      };\n    });\n\n    const actions = computed(() => frontmatter.value.actions ?? []);\n\n    return (): VNode =>\n      h(\n        \"header\",\n        { class: [\"vp-hero-info-wrapper\", { fullscreen: isFullScreen.value }] },\n        [\n          slots.heroBg?.(bgInfo.value) || [\n            bgInfo.value.image\n              ? h(\"div\", {\n                  class: [\"vp-hero-mask\", { light: bgInfo.value.imageDark }],\n                  style: [\n                    { \"background-image\": `url(${bgInfo.value.image})` },\n                    bgInfo.value.bgStyle,\n                  ],\n                })\n              : null,\n            bgInfo.value.imageDark\n              ? h(\"div\", {\n                  class: \"vp-hero-mask dark\",\n                  style: [\n                    {\n                      \"background-image\": `url(${bgInfo.value.imageDark})`,\n                    },\n                    bgInfo.value.bgStyle,\n                  ],\n                })\n              : null,\n          ],\n\n          h(\"div\", { class: \"vp-hero-info\" }, [\n            slots.heroImage?.(heroImage.value) ||\n              h(DropTransition, { appear: true, type: \"group\" }, () => [\n                heroImage.value.image\n                  ? h(\"img\", {\n                      key: \"light\",\n                      class: [\n                        \"vp-hero-image\",\n                        { light: heroImage.value.imageDark },\n                      ],\n                      style: heroImage.value.heroStyle,\n                      src: heroImage.value.image,\n                      alt: heroImage.value.alt,\n                    })\n                  : null,\n                heroImage.value.imageDark\n                  ? h(\"img\", {\n                      key: \"dark\",\n                      class: \"vp-hero-image dark\",\n                      style: heroImage.value.heroStyle,\n                      src: heroImage.value.imageDark,\n                      alt: heroImage.value.alt,\n                    })\n                  : null,\n              ]),\n            slots.heroInfo?.(heroInfo.value) ??\n              h(\"div\", { class: \"vp-hero-infos\" }, [\n                heroInfo.value.text\n                  ? h(DropTransition, { appear: true, delay: 0.04 }, () =>\n                      h(\"h1\", { id: \"main-title\" }, heroInfo.value.text),\n                    )\n                  : null,\n                heroInfo.value.tagline\n                  ? h(DropTransition, { appear: true, delay: 0.08 }, () =>\n                      h(\"p\", {\n                        class: \"vp-description\",\n                        innerHTML: heroInfo.value.tagline,\n                      }),\n                    )\n                  : null,\n                actions.value.length\n                  ? h(DropTransition, { appear: true, delay: 0.12 }, () =>\n                      h(\n                        \"p\",\n                        { class: \"vp-actions\" },\n                        actions.value.map((action) =>\n                          h(AutoLink, {\n                            class: [\"vp-action\", action.type || \"default\"],\n                            config: action,\n                            noExternalLinkIcon: true,\n                          }),\n                        ),\n                      ),\n                    )\n                  : null,\n              ]),\n          ]),\n        ],\n      );\n  },\n});\n"]}