{"version":3,"file":"BloggerInfo.js","sourceRoot":"","sources":["../../../../../src/client/modules/blog/components/BloggerInfo.ts"],"names":[],"mappings":"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","sourcesContent":["import { useSiteLocaleData, withBase } from \"@vuepress/client\";\nimport type { VNode } from \"vue\";\nimport { computed, defineComponent, h } from \"vue\";\nimport { VPLink, getAuthor, keys } from \"vuepress-shared/client\";\n\nimport { useNavigate, useThemeLocaleData } from \"@theme-hope/composables/index\";\nimport SocialMedia from \"@theme-hope/modules/blog/components/SocialMedia\";\nimport {\n  useArticles,\n  useBlogOptions,\n  useCategoryMap,\n  useTagMap,\n  useTimelines,\n} from \"@theme-hope/modules/blog/composables/index\";\n\nimport \"../styles/blogger-info.scss\";\n\nexport default defineComponent({\n  name: \"BloggerInfo\",\n\n  setup() {\n    const blogOptions = useBlogOptions();\n    const siteLocale = useSiteLocaleData();\n    const themeLocale = useThemeLocaleData();\n    const articles = useArticles();\n    const categoryMap = useCategoryMap();\n    const tagMap = useTagMap();\n    const timelines = useTimelines();\n    const navigate = useNavigate();\n\n    const bloggerName = computed(\n      () =>\n        blogOptions.value.name ||\n        getAuthor(themeLocale.value.author)[0]?.name ||\n        siteLocale.value.title,\n    );\n\n    const bloggerAvatar = computed(\n      () => blogOptions.value.avatar || themeLocale.value.logo,\n    );\n\n    const locale = computed(() => themeLocale.value.blogLocales);\n\n    const intro = computed(() => blogOptions.value.intro);\n\n    return (): VNode => {\n      const { article, category, tag, timeline } = locale.value;\n      const countItems: [string, number, string][] = [\n        [articles.value.path, articles.value.items.length, article],\n        [categoryMap.value.path, keys(categoryMap.value.map).length, category],\n        [tagMap.value.path, keys(tagMap.value.map).length, tag],\n        [timelines.value.path, timelines.value.items.length, timeline],\n      ];\n\n      return h(\n        \"div\",\n        {\n          class: \"vp-blogger-info\",\n          vocab: \"https://schema.org/\",\n          typeof: \"Person\",\n        },\n        [\n          h(\n            \"div\",\n            {\n              class: \"vp-blogger\",\n              ...(intro.value\n                ? {\n                    style: { cursor: \"pointer\" },\n                    \"aria-label\": locale.value.intro,\n                    \"data-balloon-pos\": \"down\",\n                    role: \"navigation\",\n                    onClick: () => navigate(intro.value!),\n                  }\n                : {}),\n            },\n            [\n              bloggerAvatar.value\n                ? h(\"img\", {\n                    class: [\n                      \"vp-blogger-avatar\",\n                      { round: blogOptions.value.roundAvatar },\n                    ],\n                    src: withBase(bloggerAvatar.value),\n                    property: \"image\",\n                    alt: \"Blogger Avatar\",\n                  })\n                : null,\n              bloggerName.value\n                ? h(\n                    \"div\",\n                    { class: \"vp-blogger-name\", property: \"name\" },\n                    bloggerName.value,\n                  )\n                : null,\n              blogOptions.value.description\n                ? h(\"div\", {\n                    class: \"vp-blogger-description\",\n                    innerHTML: blogOptions.value.description,\n                  })\n                : null,\n              intro.value\n                ? h(\"meta\", { property: \"url\", content: withBase(intro.value) })\n                : null,\n            ],\n          ),\n          h(\n            \"div\",\n            { class: \"vp-blog-counts\" },\n            countItems.map(([path, count, locale]) =>\n              h(VPLink, { class: \"vp-blog-count\", to: path }, () => [\n                h(\"div\", { class: \"count\" }, count),\n                h(\"div\", locale),\n              ]),\n            ),\n          ),\n          h(SocialMedia),\n        ],\n      );\n    };\n  },\n});\n"]}