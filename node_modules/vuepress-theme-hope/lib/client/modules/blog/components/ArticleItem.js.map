{"version":3,"file":"ArticleItem.js","sourceRoot":"","sources":["../../../../../src/client/modules/blog/components/ArticleItem.ts"],"names":[],"mappings":"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","sourcesContent":["import { withBase } from \"@vuepress/client\";\nimport type { PropType, SlotsType, VNode } from \"vue\";\nimport { defineComponent, h, toRef } from \"vue\";\nimport { VPLink } from \"vuepress-shared/client\";\n\nimport {\n  SlideIcon,\n  StickyIcon,\n} from \"@theme-hope/modules/blog/components/icons/index\";\nimport { useArticleInfo } from \"@theme-hope/modules/blog/composables/index\";\nimport { LockIcon } from \"@theme-hope/modules/encrypt/components/icons\";\nimport type { PageInfoProps } from \"@theme-hope/modules/info/components/PageInfo\";\nimport PageInfo from \"@theme-hope/modules/info/components/PageInfo\";\n\nimport type { ArticleInfo } from \"../../../../shared/index.js\";\nimport { ArticleInfoType, PageType } from \"../../../../shared/index.js\";\n\nimport \"../styles/article-item.scss\";\n\nexport default defineComponent({\n  name: \"ArticleItem\",\n\n  props: {\n    /**\n     * Article information\n     *\n     * 文章信息\n     */\n    info: {\n      type: Object as PropType<ArticleInfo>,\n      required: true,\n    },\n\n    /**\n     * Article path\n     *\n     * 文章路径\n     */\n    path: { type: String, required: true },\n  },\n\n  slots: Object as SlotsType<{\n    cover?: (props: { cover: string | undefined }) => VNode | VNode[];\n    title?: (props: {\n      title: string;\n      isEncrypted?: boolean;\n      type: string;\n    }) => VNode | VNode[];\n    excerpt?: (props: { excerpt: string | undefined }) => VNode | VNode[];\n    info?: (props: { info: PageInfoProps }) => VNode | VNode[];\n  }>,\n\n  setup(props, { slots }) {\n    const articleInfo = toRef(props, \"info\");\n    const { info: pageInfo, items } = useArticleInfo(props);\n\n    return (): VNode => {\n      const {\n        [ArticleInfoType.title]: title,\n        [ArticleInfoType.type]: type,\n        [ArticleInfoType.isEncrypted]: isEncrypted = false,\n        [ArticleInfoType.cover]: cover,\n        [ArticleInfoType.excerpt]: excerpt,\n        [ArticleInfoType.sticky]: sticky,\n      } = articleInfo.value;\n      const info = pageInfo.value;\n\n      return h(\n        \"div\",\n        { class: \"vp-article-wrapper\" },\n        h(\n          \"article\",\n          {\n            class: \"vp-article-item\",\n            vocab: \"https://schema.org/\",\n            typeof: \"Article\",\n          },\n          [\n            slots.cover?.({ cover }) ||\n              (cover\n                ? [\n                    h(\"img\", {\n                      class: \"vp-article-cover\",\n                      src: withBase(cover),\n                    }),\n                    h(\"meta\", {\n                      property: \"image\",\n                      content: withBase(cover),\n                    }),\n                  ]\n                : []),\n            sticky ? h(StickyIcon) : null,\n            h(\n              VPLink,\n              { to: props.path },\n              () =>\n                slots.title?.({ title, isEncrypted, type }) ||\n                h(\"header\", { class: \"vp-article-title\" }, [\n                  isEncrypted ? h(LockIcon) : null,\n                  type === PageType.slide ? h(SlideIcon) : null,\n                  h(\"span\", { property: \"headline\" }, title),\n                ]),\n            ),\n            slots.excerpt?.({ excerpt }) ||\n              (excerpt\n                ? h(\"div\", {\n                    class: \"vp-article-excerpt\",\n                    innerHTML: excerpt,\n                  })\n                : null),\n            h(\"hr\", { class: \"vp-article-hr\" }),\n            slots.info?.({ info }) ||\n              h(PageInfo, {\n                info,\n                ...(items.value ? { items: items.value } : {}),\n              }),\n          ],\n        ),\n      );\n    };\n  },\n});\n"]}